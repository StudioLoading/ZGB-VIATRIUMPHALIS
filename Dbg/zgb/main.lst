                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ISO C Compiler 
                                      3 ; Version 4.3.2 #14228 (MINGW64)
                                      4 ;--------------------------------------------------------
                                      5 	.module main
                                      6 	.optsdcc -msm83
                                      7 	
                                      8 ;--------------------------------------------------------
                                      9 ; Public variables in this module
                                     10 ;--------------------------------------------------------
                                     11 	.globl _main
                                     12 	.globl _InitSprites
                                     13 	.globl _InitStates
                                     14 	.globl _vbl_update
                                     15 	.globl _FadeOut
                                     16 	.globl _FadeIn
                                     17 	.globl _PopBank
                                     18 	.globl _PushBank
                                     19 	.globl _SpriteManagerUpdate
                                     20 	.globl _SpriteManagerReset
                                     21 	.globl _hUGE_mute
                                     22 	.globl _MusicCallback
                                     23 	.globl _display_off
                                     24 	.globl _wait_vbl_done
                                     25 	.globl _set_interrupts
                                     26 	.globl _joypad
                                     27 	.globl _add_low_priority_TIM
                                     28 	.globl _add_LCD
                                     29 	.globl _add_VBL
                                     30 	.globl _default_palette
                                     31 	.globl _music_mute_frames
                                     32 	.globl _vbl_count
                                     33 	.globl _state_running
                                     34 	.globl _current_state
                                     35 	.globl _delta_time
                                     36 	.globl _SetState
                                     37 	.globl _LCD_isr
                                     38 	.globl _SetWindowY
                                     39 ;--------------------------------------------------------
                                     40 ; special function registers
                                     41 ;--------------------------------------------------------
                                     42 ;--------------------------------------------------------
                                     43 ; ram data
                                     44 ;--------------------------------------------------------
                                     45 	.area _DATA
                           000000    46 G$delta_time$0_0$0==.
      000000                         47 _delta_time::
      000000                         48 	.ds 1
                           000001    49 G$current_state$0_0$0==.
      000001                         50 _current_state::
      000001                         51 	.ds 1
                                     52 ;--------------------------------------------------------
                                     53 ; ram data
                                     54 ;--------------------------------------------------------
                                     55 	.area _INITIALIZED
                           000000    56 G$state_running$0_0$0==.
      000000                         57 _state_running::
      000000                         58 	.ds 1
                           000001    59 G$vbl_count$0_0$0==.
      000001                         60 _vbl_count::
      000001                         61 	.ds 1
                           000002    62 G$music_mute_frames$0_0$0==.
      000002                         63 _music_mute_frames::
      000002                         64 	.ds 1
                           000003    65 G$default_palette$0_0$0==.
      000003                         66 _default_palette::
      000003                         67 	.ds 8
                                     68 ;--------------------------------------------------------
                                     69 ; absolute external ram data
                                     70 ;--------------------------------------------------------
                                     71 	.area _DABS (ABS)
                                     72 ;--------------------------------------------------------
                                     73 ; global & static initialisations
                                     74 ;--------------------------------------------------------
                                     75 	.area _HOME
                                     76 	.area _GSINIT
                                     77 	.area _GSFINAL
                                     78 	.area _GSINIT
                                     79 ;--------------------------------------------------------
                                     80 ; Home
                                     81 ;--------------------------------------------------------
                                     82 	.area _HOME
                           000000    83 	G$LCD_isr$0$0	= .
                                     84 	.globl	G$LCD_isr$0$0
                           000000    85 	C$main.c$70$1_0$214	= .
                                     86 	.globl	C$main.c$70$1_0$214
                                     87 ;C:/ZGB-2023.0/common/src/main.c:70: void LCD_isr() NONBANKED {
                                     88 ;	---------------------------------
                                     89 ; Function LCD_isr
                                     90 ; ---------------------------------
      000000                         91 _LCD_isr::
                           000000    92 	C$main.c$71$1_0$214	= .
                                     93 	.globl	C$main.c$71$1_0$214
                                     94 ;C:/ZGB-2023.0/common/src/main.c:71: if (LYC_REG == 0) {
      000000 FAr00r00         [16]   95 	ld	a, (#_LYC_REG)
      000003 B7               [ 4]   96 	or	a, a
      000004 20 19            [12]   97 	jr	NZ, 00105$
                           000006    98 	C$main.c$72$2_0$215	= .
                                     99 	.globl	C$main.c$72$2_0$215
                                    100 ;C:/ZGB-2023.0/common/src/main.c:72: if (WY_REG == 0) {
      000006 FAr00r00         [16]  101 	ld	a, (#_WY_REG)
      000009 B7               [ 4]  102 	or	a, a
      00000A 20 07            [12]  103 	jr	NZ, 00102$
                           00000C   104 	C$main.c$73$3_0$216	= .
                                    105 	.globl	C$main.c$73$3_0$216
                                    106 ;C:/ZGB-2023.0/common/src/main.c:73: HIDE_SPRITES;
      00000C F0r00            [12]  107 	ldh	a, (_LCDC_REG + 0)
      00000E E6 FD            [ 8]  108 	and	a, #0xfd
      000010 E0r00            [12]  109 	ldh	(_LCDC_REG + 0), a
      000012 C9               [16]  110 	ret
      000013                        111 00102$:
                           000013   112 	C$main.c$75$3_0$217	= .
                                    113 	.globl	C$main.c$75$3_0$217
                                    114 ;C:/ZGB-2023.0/common/src/main.c:75: SHOW_SPRITES;
      000013 F0r00            [12]  115 	ldh	a, (_LCDC_REG + 0)
      000015 F6 02            [ 8]  116 	or	a, #0x02
      000017 E0r00            [12]  117 	ldh	(_LCDC_REG + 0), a
                           000019   118 	C$main.c$76$3_0$217	= .
                                    119 	.globl	C$main.c$76$3_0$217
                                    120 ;C:/ZGB-2023.0/common/src/main.c:76: LYC_REG = WY_REG - 1;
      000019 F0r00            [12]  121 	ldh	a, (_WY_REG + 0)
      00001B 3D               [ 4]  122 	dec	a
      00001C E0r00            [12]  123 	ldh	(_LYC_REG + 0), a
      00001E C9               [16]  124 	ret
      00001F                        125 00105$:
                           00001F   126 	C$main.c$79$2_0$218	= .
                                    127 	.globl	C$main.c$79$2_0$218
                                    128 ;C:/ZGB-2023.0/common/src/main.c:79: HIDE_SPRITES;
      00001F F0r00            [12]  129 	ldh	a, (_LCDC_REG + 0)
      000021 E6 FD            [ 8]  130 	and	a, #0xfd
      000023 E0r00            [12]  131 	ldh	(_LCDC_REG + 0), a
                           000025   132 	C$main.c$80$2_0$218	= .
                                    133 	.globl	C$main.c$80$2_0$218
                                    134 ;C:/ZGB-2023.0/common/src/main.c:80: LYC_REG = 0;
      000025 AF               [ 4]  135 	xor	a, a
      000026 E0r00            [12]  136 	ldh	(_LYC_REG + 0), a
                           000028   137 	C$main.c$82$1_0$214	= .
                                    138 	.globl	C$main.c$82$1_0$214
                                    139 ;C:/ZGB-2023.0/common/src/main.c:82: }
                           000028   140 	C$main.c$82$1_0$214	= .
                                    141 	.globl	C$main.c$82$1_0$214
                           000028   142 	XG$LCD_isr$0$0	= .
                                    143 	.globl	XG$LCD_isr$0$0
      000028 C9               [16]  144 	ret
                                    145 	.area _HOME
                                    146 ;--------------------------------------------------------
                                    147 ; code
                                    148 ;--------------------------------------------------------
                                    149 	.area _CODE
                           000000   150 	G$SetState$0$0	= .
                                    151 	.globl	G$SetState$0$0
                           000000   152 	C$main.c$27$0_0$210	= .
                                    153 	.globl	C$main.c$27$0_0$210
                                    154 ;C:/ZGB-2023.0/common/src/main.c:27: void SetState(UINT8 state) {
                                    155 ;	---------------------------------
                                    156 ; Function SetState
                                    157 ; ---------------------------------
      000000                        158 _SetState::
      000000 EAr00r00         [16]  159 	ld	(#_next_state),a
                           000003   160 	C$main.c$28$1_0$210	= .
                                    161 	.globl	C$main.c$28$1_0$210
                                    162 ;C:/ZGB-2023.0/common/src/main.c:28: state_running = 0;
      000003 21r00r00         [12]  163 	ld	hl, #_state_running
      000006 36 00            [12]  164 	ld	(hl), #0x00
                           000008   165 	C$main.c$29$1_0$210	= .
                                    166 	.globl	C$main.c$29$1_0$210
                                    167 ;C:/ZGB-2023.0/common/src/main.c:29: next_state = state;
                           000008   168 	C$main.c$30$1_0$210	= .
                                    169 	.globl	C$main.c$30$1_0$210
                                    170 ;C:/ZGB-2023.0/common/src/main.c:30: }
                           000008   171 	C$main.c$30$1_0$210	= .
                                    172 	.globl	C$main.c$30$1_0$210
                           000008   173 	XG$SetState$0$0	= .
                                    174 	.globl	XG$SetState$0$0
      000008 C9               [16]  175 	ret
                           000009   176 	G$vbl_update$0$0	= .
                                    177 	.globl	G$vbl_update$0$0
                           000009   178 	C$main.c$34$1_0$211	= .
                                    179 	.globl	C$main.c$34$1_0$211
                                    180 ;C:/ZGB-2023.0/common/src/main.c:34: void vbl_update() {
                                    181 ;	---------------------------------
                                    182 ; Function vbl_update
                                    183 ; ---------------------------------
      000009                        184 _vbl_update::
                           000009   185 	C$main.c$35$1_0$211	= .
                                    186 	.globl	C$main.c$35$1_0$211
                                    187 ;C:/ZGB-2023.0/common/src/main.c:35: vbl_count ++;
      000009 21r01r00         [12]  188 	ld	hl, #_vbl_count
      00000C 34               [12]  189 	inc	(hl)
                           00000D   190 	C$main.c$37$1_0$211	= .
                                    191 	.globl	C$main.c$37$1_0$211
                                    192 ;C:/ZGB-2023.0/common/src/main.c:37: SCX_REG = scroll_x_vblank + (scroll_offset_x << 3);
      00000D FAr00r00         [16]  193 	ld	a, (#_scroll_offset_x)
      000010 87               [ 4]  194 	add	a, a
      000011 87               [ 4]  195 	add	a, a
      000012 87               [ 4]  196 	add	a, a
      000013 21r00r00         [12]  197 	ld	hl, #_scroll_x_vblank
      000016 4E               [ 8]  198 	ld	c, (hl)
      000017 81               [ 4]  199 	add	a, c
      000018 E0r00            [12]  200 	ldh	(_SCX_REG + 0), a
                           00001A   201 	C$main.c$38$1_0$211	= .
                                    202 	.globl	C$main.c$38$1_0$211
                                    203 ;C:/ZGB-2023.0/common/src/main.c:38: SCY_REG = scroll_y_vblank + (scroll_offset_y << 3);
      00001A FAr00r00         [16]  204 	ld	a, (#_scroll_offset_y)
      00001D 87               [ 4]  205 	add	a, a
      00001E 87               [ 4]  206 	add	a, a
      00001F 87               [ 4]  207 	add	a, a
      000020 21r00r00         [12]  208 	ld	hl, #_scroll_y_vblank
      000023 4E               [ 8]  209 	ld	c, (hl)
      000024 81               [ 4]  210 	add	a, c
      000025 E0r00            [12]  211 	ldh	(_SCY_REG + 0), a
                           000027   212 	C$main.c$40$1_0$211	= .
                                    213 	.globl	C$main.c$40$1_0$211
                                    214 ;C:/ZGB-2023.0/common/src/main.c:40: if(music_mute_frames != 0) {
      000027 21r02r00         [12]  215 	ld	hl, #_music_mute_frames
      00002A 7E               [ 8]  216 	ld	a, (hl)
      00002B B7               [ 4]  217 	or	a, a
      00002C C8               [20]  218 	ret	Z
                           00002D   219 	C$main.c$41$2_0$212	= .
                                    220 	.globl	C$main.c$41$2_0$212
                                    221 ;C:/ZGB-2023.0/common/src/main.c:41: music_mute_frames --;
                           00002D   222 	C$main.c$42$2_0$212	= .
                                    223 	.globl	C$main.c$42$2_0$212
                                    224 ;C:/ZGB-2023.0/common/src/main.c:42: if(music_mute_frames == 0) {
      00002D 35               [12]  225 	dec	(hl)
      00002E 7E               [ 8]  226 	ld	a, (hl)
      00002F C0               [20]  227 	ret	NZ
                           000030   228 	C$main.c$43$3_0$213	= .
                                    229 	.globl	C$main.c$43$3_0$213
                                    230 ;C:/ZGB-2023.0/common/src/main.c:43: UNMUTE_ALL_CHANNELS;
      000030 AF               [ 4]  231 	xor	a, a
                           000031   232 	C$main.c$46$1_0$211	= .
                                    233 	.globl	C$main.c$46$1_0$211
                                    234 ;C:/ZGB-2023.0/common/src/main.c:46: }
                           000031   235 	C$main.c$46$1_0$211	= .
                                    236 	.globl	C$main.c$46$1_0$211
                           000031   237 	XG$vbl_update$0$0	= .
                                    238 	.globl	XG$vbl_update$0$0
      000031 C3r00r00         [16]  239 	jp	_hUGE_mute
                           000034   240 	G$SetWindowY$0$0	= .
                                    241 	.globl	G$SetWindowY$0$0
                           000034   242 	C$main.c$84$1_0$220	= .
                                    243 	.globl	C$main.c$84$1_0$220
                                    244 ;C:/ZGB-2023.0/common/src/main.c:84: void SetWindowY(UINT8 y) {
                                    245 ;	---------------------------------
                                    246 ; Function SetWindowY
                                    247 ; ---------------------------------
      000034                        248 _SetWindowY::
                           000034   249 	C$main.c$85$1_0$220	= .
                                    250 	.globl	C$main.c$85$1_0$220
                                    251 ;C:/ZGB-2023.0/common/src/main.c:85: WY_REG = y;
      000034 4F               [ 4]  252 	ld	c, a
      000035 E0r00            [12]  253 	ldh	(_WY_REG + 0), a
                           000037   254 	C$main.c$86$1_0$220	= .
                                    255 	.globl	C$main.c$86$1_0$220
                                    256 ;C:/ZGB-2023.0/common/src/main.c:86: LYC_REG = y - 1;
      000037 79               [ 4]  257 	ld	a, c
      000038 3D               [ 4]  258 	dec	a
      000039 E0r00            [12]  259 	ldh	(_LYC_REG + 0), a
                           00003B   260 	C$main.c$87$1_0$220	= .
                                    261 	.globl	C$main.c$87$1_0$220
                                    262 ;C:/ZGB-2023.0/common/src/main.c:87: if (y < 144u) {
      00003B 79               [ 4]  263 	ld	a, c
      00003C D6 90            [ 8]  264 	sub	a, #0x90
      00003E 30 07            [12]  265 	jr	NC, 00102$
                           000040   266 	C$main.c$88$2_0$221	= .
                                    267 	.globl	C$main.c$88$2_0$221
                                    268 ;C:/ZGB-2023.0/common/src/main.c:88: SHOW_WIN; 
      000040 F0r00            [12]  269 	ldh	a, (_LCDC_REG + 0)
      000042 F6 20            [ 8]  270 	or	a, #0x20
      000044 E0r00            [12]  271 	ldh	(_LCDC_REG + 0), a
      000046 C9               [16]  272 	ret
      000047                        273 00102$:
                           000047   274 	C$main.c$90$2_0$222	= .
                                    275 	.globl	C$main.c$90$2_0$222
                                    276 ;C:/ZGB-2023.0/common/src/main.c:90: HIDE_WIN; 
      000047 F0r00            [12]  277 	ldh	a, (_LCDC_REG + 0)
      000049 E6 DF            [ 8]  278 	and	a, #0xdf
      00004B E0r00            [12]  279 	ldh	(_LCDC_REG + 0), a
                           00004D   280 	C$main.c$91$2_0$222	= .
                                    281 	.globl	C$main.c$91$2_0$222
                                    282 ;C:/ZGB-2023.0/common/src/main.c:91: LYC_REG = 160u; 
      00004D 3E A0            [ 8]  283 	ld	a, #0xa0
      00004F E0r00            [12]  284 	ldh	(_LYC_REG + 0), a
                           000051   285 	C$main.c$93$1_0$220	= .
                                    286 	.globl	C$main.c$93$1_0$220
                                    287 ;C:/ZGB-2023.0/common/src/main.c:93: }
                           000051   288 	C$main.c$93$1_0$220	= .
                                    289 	.globl	C$main.c$93$1_0$220
                           000051   290 	XG$SetWindowY$0$0	= .
                                    291 	.globl	XG$SetWindowY$0$0
      000051 C9               [16]  292 	ret
                           000052   293 	G$main$0$0	= .
                                    294 	.globl	G$main$0$0
                           000052   295 	C$main.c$104$1_0$223	= .
                                    296 	.globl	C$main.c$104$1_0$223
                                    297 ;C:/ZGB-2023.0/common/src/main.c:104: void main() {
                                    298 ;	---------------------------------
                                    299 ; Function main
                                    300 ; ---------------------------------
      000052                        301 _main::
                           000052   302 	C$main.c$106$1_0$223	= .
                                    303 	.globl	C$main.c$106$1_0$223
                                    304 ;C:/ZGB-2023.0/common/src/main.c:106: for (UINT8 i = 4; i != 0; i--) {
      000052 0E 04            [ 8]  305 	ld	c, #0x04
      000054                        306 00115$:
      000054 79               [ 4]  307 	ld	a, c
      000055 B7               [ 4]  308 	or	a, a
      000056 28 06            [12]  309 	jr	Z, 00101$
                           000058   310 	C$main.c$107$3_0$225	= .
                                    311 	.globl	C$main.c$107$3_0$225
                                    312 ;C:/ZGB-2023.0/common/src/main.c:107: wait_vbl_done();
      000058 CDr00r00         [24]  313 	call	_wait_vbl_done
                           00005B   314 	C$main.c$106$2_0$224	= .
                                    315 	.globl	C$main.c$106$2_0$224
                                    316 ;C:/ZGB-2023.0/common/src/main.c:106: for (UINT8 i = 4; i != 0; i--) {
      00005B 0D               [ 4]  317 	dec	c
      00005C 18 F6            [12]  318 	jr	00115$
      00005E                        319 00101$:
                           00005E   320 	C$main.c$120$1_0$223	= .
                                    321 	.globl	C$main.c$120$1_0$223
                                    322 ;C:/ZGB-2023.0/common/src/main.c:120: PUSH_BANK(1);
      00005E 3E 01            [ 8]  323 	ld	a, #0x01
      000060 F5               [16]  324 	push	af
      000061 33               [ 8]  325 	inc	sp
      000062 CDr00r00         [24]  326 	call	_PushBank
      000065 33               [ 8]  327 	inc	sp
                           000066   328 	C$main.c$121$1_0$223	= .
                                    329 	.globl	C$main.c$121$1_0$223
                                    330 ;C:/ZGB-2023.0/common/src/main.c:121: InitStates();
      000066 CDr00r00         [24]  331 	call	_InitStates
                           000069   332 	C$main.c$122$1_0$223	= .
                                    333 	.globl	C$main.c$122$1_0$223
                                    334 ;C:/ZGB-2023.0/common/src/main.c:122: InitSprites();
      000069 CDr00r00         [24]  335 	call	_InitSprites
                           00006C   336 	C$main.c$123$1_0$223	= .
                                    337 	.globl	C$main.c$123$1_0$223
                                    338 ;C:/ZGB-2023.0/common/src/main.c:123: POP_BANK;
      00006C CDr00r00         [24]  339 	call	_PopBank
                           00006F   340 	C$main.c$140$1_0$223	= .
                                    341 	.globl	C$main.c$140$1_0$223
                                    342 ;C:/ZGB-2023.0/common/src/main.c:140: }
      00006F F3               [ 4]  343 	di
                           000070   344 	C$main.c$129$2_0$226	= .
                                    345 	.globl	C$main.c$129$2_0$226
                                    346 ;C:/ZGB-2023.0/common/src/main.c:129: TMA_REG = 0xBCU;
      000070 3E BC            [ 8]  347 	ld	a, #0xbc
      000072 E0r00            [12]  348 	ldh	(_TMA_REG + 0), a
                           000074   349 	C$main.c$131$2_0$226	= .
                                    350 	.globl	C$main.c$131$2_0$226
                                    351 ;C:/ZGB-2023.0/common/src/main.c:131: TAC_REG = 0x04U;
      000074 3E 04            [ 8]  352 	ld	a, #0x04
      000076 E0r00            [12]  353 	ldh	(_TAC_REG + 0), a
                           000078   354 	C$main.c$134$2_0$226	= .
                                    355 	.globl	C$main.c$134$2_0$226
                                    356 ;C:/ZGB-2023.0/common/src/main.c:134: add_low_priority_TIM(MusicCallback); 
      000078 11r00r00         [12]  357 	ld	de, #_MusicCallback
      00007B CDr00r00         [24]  358 	call	_add_low_priority_TIM
                           00007E   359 	C$main.c$136$2_0$226	= .
                                    360 	.globl	C$main.c$136$2_0$226
                                    361 ;C:/ZGB-2023.0/common/src/main.c:136: add_VBL(vbl_update);
      00007E 11r09r00         [12]  362 	ld	de, #_vbl_update
      000081 CDr00r00         [24]  363 	call	_add_VBL
                           000084   364 	C$main.c$138$2_0$226	= .
                                    365 	.globl	C$main.c$138$2_0$226
                                    366 ;C:/ZGB-2023.0/common/src/main.c:138: STAT_REG |= 0x40; 
      000084 F0r00            [12]  367 	ldh	a, (_STAT_REG + 0)
      000086 F6 40            [ 8]  368 	or	a, #0x40
      000088 E0r00            [12]  369 	ldh	(_STAT_REG + 0), a
                           00008A   370 	C$main.c$139$2_0$226	= .
                                    371 	.globl	C$main.c$139$2_0$226
                                    372 ;C:/ZGB-2023.0/common/src/main.c:139: add_LCD(LCD_isr);
      00008A 11r00r00         [12]  373 	ld	de, #_LCD_isr
      00008D CDr00r00         [24]  374 	call	_add_LCD
      000090 FB               [ 4]  375 	ei
                           000091   376 	C$main.c$142$1_0$223	= .
                                    377 	.globl	C$main.c$142$1_0$223
                                    378 ;C:/ZGB-2023.0/common/src/main.c:142: set_interrupts(VBL_IFLAG | TIM_IFLAG | LCD_IFLAG);
      000091 3E 07            [ 8]  379 	ld	a, #0x07
      000093 CDr00r00         [24]  380 	call	_set_interrupts
                           000096   381 	C$main.c$144$1_0$223	= .
                                    382 	.globl	C$main.c$144$1_0$223
                                    383 ;C:/ZGB-2023.0/common/src/main.c:144: LCDC_REG |= LCDCF_OBJDEFAULT | LCDCF_OBJON | LCDCF_BGON;
      000096 F0r00            [12]  384 	ldh	a, (_LCDC_REG + 0)
      000098 F6 07            [ 8]  385 	or	a, #0x07
      00009A E0r00            [12]  386 	ldh	(_LCDC_REG + 0), a
                           00009C   387 	C$main.c$145$1_0$223	= .
                                    388 	.globl	C$main.c$145$1_0$223
                                    389 ;C:/ZGB-2023.0/common/src/main.c:145: WY_REG = 145;
      00009C 3E 91            [ 8]  390 	ld	a, #0x91
      00009E E0r00            [12]  391 	ldh	(_WY_REG + 0), a
                           0000A0   392 	C$main.c$147$1_0$223	= .
                                    393 	.globl	C$main.c$147$1_0$223
                                    394 ;C:/ZGB-2023.0/common/src/main.c:147: while(1) {
      0000A0                        395 00112$:
                           0000A0   396 	C$main.c$148$2_0$227	= .
                                    397 	.globl	C$main.c$148$2_0$227
                                    398 ;C:/ZGB-2023.0/common/src/main.c:148: DISPLAY_OFF
      0000A0 CDr00r00         [24]  399 	call	_display_off
                           0000A3   400 	C$main.c$150$2_0$227	= .
                                    401 	.globl	C$main.c$150$2_0$227
                                    402 ;C:/ZGB-2023.0/common/src/main.c:150: if(stop_music_on_new_state)
      0000A3 FAr00r00         [16]  403 	ld	a, (#_stop_music_on_new_state)
      0000A6 B7               [ 4]  404 	or	a, a
      0000A7 28 10            [12]  405 	jr	Z, 00103$
                           0000A9   406 	C$main.c$152$3_0$228	= .
                                    407 	.globl	C$main.c$152$3_0$228
                                    408 ;C:/ZGB-2023.0/common/src/main.c:152: StopMusic;
      0000A9 21r00r00         [12]  409 	ld	hl, #_hUGE_paused
      0000AC 36 01            [12]  410 	ld	(hl), #0x01
      0000AE 3E 01            [ 8]  411 	ld	a, #0x01
      0000B0 CDr00r00         [24]  412 	call	_hUGE_mute
      0000B3 AF               [ 4]  413 	xor	a, a
      0000B4 21r00r00         [12]  414 	ld	hl, #_last_music
      0000B7 22               [ 8]  415 	ld	(hl+), a
      0000B8 77               [ 8]  416 	ld	(hl), a
      0000B9                        417 00103$:
                           0000B9   418 	C$main.c$155$2_0$227	= .
                                    419 	.globl	C$main.c$155$2_0$227
                                    420 ;C:/ZGB-2023.0/common/src/main.c:155: SpriteManagerReset();
      0000B9 CDr00r00         [24]  421 	call	_SpriteManagerReset
                           0000BC   422 	C$main.c$156$2_0$227	= .
                                    423 	.globl	C$main.c$156$2_0$227
                                    424 ;C:/ZGB-2023.0/common/src/main.c:156: state_running = 1;
      0000BC 21r00r00         [12]  425 	ld	hl, #_state_running
      0000BF 36 01            [12]  426 	ld	(hl), #0x01
                           0000C1   427 	C$main.c$157$2_0$227	= .
                                    428 	.globl	C$main.c$157$2_0$227
                                    429 ;C:/ZGB-2023.0/common/src/main.c:157: current_state = next_state;
      0000C1 FAr00r00         [16]  430 	ld	a, (#_next_state)
      0000C4 EAr01r00         [16]  431 	ld	(#_current_state),a
                           0000C7   432 	C$main.c$158$2_0$227	= .
                                    433 	.globl	C$main.c$158$2_0$227
                                    434 ;C:/ZGB-2023.0/common/src/main.c:158: scroll_target = 0;
      0000C7 AF               [ 4]  435 	xor	a, a
      0000C8 21r00r00         [12]  436 	ld	hl, #_scroll_target
      0000CB 22               [ 8]  437 	ld	(hl+), a
      0000CC 77               [ 8]  438 	ld	(hl), a
                           0000CD   439 	C$main.c$159$2_0$227	= .
                                    440 	.globl	C$main.c$159$2_0$227
                                    441 ;C:/ZGB-2023.0/common/src/main.c:159: last_bg_pal_loaded = 0;
      0000CD 21r00r00         [12]  442 	ld	hl, #_last_bg_pal_loaded
      0000D0 36 00            [12]  443 	ld	(hl), #0x00
                           0000D2   444 	C$main.c$160$2_0$227	= .
                                    445 	.globl	C$main.c$160$2_0$227
                                    446 ;C:/ZGB-2023.0/common/src/main.c:160: last_tile_loaded = 0;
      0000D2 21r00r00         [12]  447 	ld	hl, #_last_tile_loaded
      0000D5 36 00            [12]  448 	ld	(hl), #0x00
                           0000D7   449 	C$main.c$171$2_0$227	= .
                                    450 	.globl	C$main.c$171$2_0$227
                                    451 ;C:/ZGB-2023.0/common/src/main.c:171: BGP_REG = OBP0_REG = OBP1_REG = PAL_DEF(0, 1, 2, 3);
      0000D7 3E E4            [ 8]  452 	ld	a, #0xe4
      0000D9 E0r00            [12]  453 	ldh	(_OBP1_REG + 0), a
      0000DB 3E E4            [ 8]  454 	ld	a, #0xe4
      0000DD E0r00            [12]  455 	ldh	(_OBP0_REG + 0), a
      0000DF 3E E4            [ 8]  456 	ld	a, #0xe4
      0000E1 E0r00            [12]  457 	ldh	(_BGP_REG + 0), a
                           0000E3   458 	C$main.c$173$2_0$227	= .
                                    459 	.globl	C$main.c$173$2_0$227
                                    460 ;C:/ZGB-2023.0/common/src/main.c:173: PUSH_BANK(stateBanks[current_state]);
      0000E3 3Er00            [ 8]  461 	ld	a, #<(_stateBanks)
      0000E5 21r01r00         [12]  462 	ld	hl, #_current_state
      0000E8 86               [ 8]  463 	add	a, (hl)
      0000E9 4F               [ 4]  464 	ld	c, a
      0000EA 3Es00            [ 8]  465 	ld	a, #>(_stateBanks)
      0000EC CE 00            [ 8]  466 	adc	a, #0x00
      0000EE 47               [ 4]  467 	ld	b, a
      0000EF 0A               [ 8]  468 	ld	a, (bc)
      0000F0 F5               [16]  469 	push	af
      0000F1 33               [ 8]  470 	inc	sp
      0000F2 CDr00r00         [24]  471 	call	_PushBank
      0000F5 33               [ 8]  472 	inc	sp
                           0000F6   473 	C$main.c$174$2_0$227	= .
                                    474 	.globl	C$main.c$174$2_0$227
                                    475 ;C:/ZGB-2023.0/common/src/main.c:174: (startFuncs[current_state])();
      0000F6 01r00r00         [12]  476 	ld	bc, #_startFuncs+0
      0000F9 21r01r00         [12]  477 	ld	hl, #_current_state
      0000FC 6E               [ 8]  478 	ld	l, (hl)
                                    479 ;	spillPairReg hl
                                    480 ;	spillPairReg hl
      0000FD 26 00            [ 8]  481 	ld	h, #0x00
                                    482 ;	spillPairReg hl
                                    483 ;	spillPairReg hl
      0000FF 29               [ 8]  484 	add	hl, hl
      000100 09               [ 8]  485 	add	hl, bc
      000101 4E               [ 8]  486 	ld	c, (hl)
      000102 23               [ 8]  487 	inc	hl
      000103 66               [ 8]  488 	ld	h, (hl)
                                    489 ;	spillPairReg hl
      000104 69               [ 4]  490 	ld	l, c
                                    491 ;	spillPairReg hl
                                    492 ;	spillPairReg hl
      000105 CDr00r00         [24]  493 	call	___sdcc_call_hl
                           000108   494 	C$main.c$175$2_0$227	= .
                                    495 	.globl	C$main.c$175$2_0$227
                                    496 ;C:/ZGB-2023.0/common/src/main.c:175: POP_BANK;
      000108 CDr00r00         [24]  497 	call	_PopBank
                           00010B   498 	C$main.c$176$2_0$227	= .
                                    499 	.globl	C$main.c$176$2_0$227
                                    500 ;C:/ZGB-2023.0/common/src/main.c:176: scroll_x_vblank = scroll_x;
      00010B FAr00r00         [16]  501 	ld	a, (#_scroll_x)
      00010E EAr00r00         [16]  502 	ld	(#_scroll_x_vblank),a
                           000111   503 	C$main.c$177$2_0$227	= .
                                    504 	.globl	C$main.c$177$2_0$227
                                    505 ;C:/ZGB-2023.0/common/src/main.c:177: scroll_y_vblank = scroll_y;
      000111 FAr00r00         [16]  506 	ld	a, (#_scroll_y)
      000114 EAr00r00         [16]  507 	ld	(#_scroll_y_vblank),a
                           000117   508 	C$main.c$179$2_0$227	= .
                                    509 	.globl	C$main.c$179$2_0$227
                                    510 ;C:/ZGB-2023.0/common/src/main.c:179: if(state_running) {
      000117 FAr00r00         [16]  511 	ld	a, (#_state_running)
      00011A B7               [ 4]  512 	or	a, a
      00011B 28 09            [12]  513 	jr	Z, 00128$
                           00011D   514 	C$main.c$180$3_0$229	= .
                                    515 	.globl	C$main.c$180$3_0$229
                                    516 ;C:/ZGB-2023.0/common/src/main.c:180: DISPLAY_ON;
      00011D F0r00            [12]  517 	ldh	a, (_LCDC_REG + 0)
      00011F F6 80            [ 8]  518 	or	a, #0x80
      000121 E0r00            [12]  519 	ldh	(_LCDC_REG + 0), a
                           000123   520 	C$main.c$181$3_0$229	= .
                                    521 	.globl	C$main.c$181$3_0$229
                                    522 ;C:/ZGB-2023.0/common/src/main.c:181: FadeOut();
      000123 CDr00r00         [24]  523 	call	_FadeOut
                           000126   524 	C$main.c$184$1_0$223	= .
                                    525 	.globl	C$main.c$184$1_0$223
                                    526 ;C:/ZGB-2023.0/common/src/main.c:184: while (state_running) {
      000126                        527 00128$:
      000126                        528 00108$:
      000126 FAr00r00         [16]  529 	ld	a, (#_state_running)
      000129 B7               [ 4]  530 	or	a, a
      00012A 28 52            [12]  531 	jr	Z, 00110$
                           00012C   532 	C$main.c$185$3_0$230	= .
                                    533 	.globl	C$main.c$185$3_0$230
                                    534 ;C:/ZGB-2023.0/common/src/main.c:185: if(!vbl_count)
      00012C FAr01r00         [16]  535 	ld	a, (#_vbl_count)
      00012F B7               [ 4]  536 	or	a, a
      000130 20 03            [12]  537 	jr	NZ, 00107$
                           000132   538 	C$main.c$186$3_0$230	= .
                                    539 	.globl	C$main.c$186$3_0$230
                                    540 ;C:/ZGB-2023.0/common/src/main.c:186: wait_vbl_done();
      000132 CDr00r00         [24]  541 	call	_wait_vbl_done
      000135                        542 00107$:
                           000135   543 	C$main.c$187$3_0$230	= .
                                    544 	.globl	C$main.c$187$3_0$230
                                    545 ;C:/ZGB-2023.0/common/src/main.c:187: delta_time = vbl_count == 1u ? 0u : 1u;
      000135 FAr01r00         [16]  546 	ld	a, (#_vbl_count)
      000138 3D               [ 4]  547 	dec	a
      000139 28 02            [12]  548 	jr	Z, 00120$
      00013B 3E 01            [ 8]  549 	ld	a, #0x01
      00013D                        550 00120$:
      00013D EAr00r00         [16]  551 	ld	(#_delta_time),a
                           000140   552 	C$main.c$188$3_0$230	= .
                                    553 	.globl	C$main.c$188$3_0$230
                                    554 ;C:/ZGB-2023.0/common/src/main.c:188: vbl_count = 0;
      000140 21r01r00         [12]  555 	ld	hl, #_vbl_count
      000143 36 00            [12]  556 	ld	(hl), #0x00
                           000145   557 	C$main.c$190$3_0$230	= .
                                    558 	.globl	C$main.c$190$3_0$230
                                    559 ;C:/ZGB-2023.0/common/src/main.c:190: UPDATE_KEYS();
      000145 FAr00r00         [16]  560 	ld	a, (#_keys)
      000148 EAr00r00         [16]  561 	ld	(#_previous_keys),a
      00014B CDr00r00         [24]  562 	call	_joypad
      00014E EAr00r00         [16]  563 	ld	(#_keys),a
                           000151   564 	C$main.c$192$3_0$230	= .
                                    565 	.globl	C$main.c$192$3_0$230
                                    566 ;C:/ZGB-2023.0/common/src/main.c:192: SpriteManagerUpdate();
      000151 CDr00r00         [24]  567 	call	_SpriteManagerUpdate
                           000154   568 	C$main.c$193$3_0$230	= .
                                    569 	.globl	C$main.c$193$3_0$230
                                    570 ;C:/ZGB-2023.0/common/src/main.c:193: PUSH_BANK(stateBanks[current_state]);
      000154 3Er00            [ 8]  571 	ld	a, #<(_stateBanks)
      000156 21r01r00         [12]  572 	ld	hl, #_current_state
      000159 86               [ 8]  573 	add	a, (hl)
      00015A 4F               [ 4]  574 	ld	c, a
      00015B 3Es00            [ 8]  575 	ld	a, #>(_stateBanks)
      00015D CE 00            [ 8]  576 	adc	a, #0x00
      00015F 47               [ 4]  577 	ld	b, a
      000160 0A               [ 8]  578 	ld	a, (bc)
      000161 F5               [16]  579 	push	af
      000162 33               [ 8]  580 	inc	sp
      000163 CDr00r00         [24]  581 	call	_PushBank
      000166 33               [ 8]  582 	inc	sp
                           000167   583 	C$main.c$194$3_0$230	= .
                                    584 	.globl	C$main.c$194$3_0$230
                                    585 ;C:/ZGB-2023.0/common/src/main.c:194: updateFuncs[current_state]();
      000167 21r01r00         [12]  586 	ld	hl, #_current_state
      00016A 6E               [ 8]  587 	ld	l, (hl)
                                    588 ;	spillPairReg hl
                                    589 ;	spillPairReg hl
      00016B 26 00            [ 8]  590 	ld	h, #0x00
                                    591 ;	spillPairReg hl
                                    592 ;	spillPairReg hl
      00016D 29               [ 8]  593 	add	hl, hl
      00016E 11r00r00         [12]  594 	ld	de, #_updateFuncs
      000171 19               [ 8]  595 	add	hl, de
      000172 4E               [ 8]  596 	ld	c, (hl)
      000173 23               [ 8]  597 	inc	hl
      000174 66               [ 8]  598 	ld	h, (hl)
                                    599 ;	spillPairReg hl
      000175 69               [ 4]  600 	ld	l, c
                                    601 ;	spillPairReg hl
                                    602 ;	spillPairReg hl
      000176 CDr00r00         [24]  603 	call	___sdcc_call_hl
                           000179   604 	C$main.c$195$3_0$230	= .
                                    605 	.globl	C$main.c$195$3_0$230
                                    606 ;C:/ZGB-2023.0/common/src/main.c:195: POP_BANK;
      000179 CDr00r00         [24]  607 	call	_PopBank
      00017C 18 A8            [12]  608 	jr	00108$
      00017E                        609 00110$:
                           00017E   610 	C$main.c$198$2_0$227	= .
                                    611 	.globl	C$main.c$198$2_0$227
                                    612 ;C:/ZGB-2023.0/common/src/main.c:198: FadeIn();
      00017E CDr00r00         [24]  613 	call	_FadeIn
                           000181   614 	C$main.c$200$1_0$223	= .
                                    615 	.globl	C$main.c$200$1_0$223
                                    616 ;C:/ZGB-2023.0/common/src/main.c:200: }
                           000181   617 	C$main.c$200$1_0$223	= .
                                    618 	.globl	C$main.c$200$1_0$223
                           000181   619 	XG$main$0$0	= .
                                    620 	.globl	XG$main$0$0
      000181 C3rA0r00         [16]  621 	jp	00112$
                                    622 	.area _CODE
                                    623 	.area _INITIALIZER
                           000000   624 Fmain$__xinit_state_running$0_0$0 == .
      000000                        625 __xinit__state_running:
      000000 00                     626 	.db #0x00	; 0
                           000001   627 Fmain$__xinit_vbl_count$0_0$0 == .
      000001                        628 __xinit__vbl_count:
      000001 00                     629 	.db #0x00	; 0
                           000002   630 Fmain$__xinit_music_mute_frames$0_0$0 == .
      000002                        631 __xinit__music_mute_frames:
      000002 00                     632 	.db #0x00	; 0
                           000003   633 Fmain$__xinit_default_palette$0_0$0 == .
      000003                        634 __xinit__default_palette:
      000003 FF 7F                  635 	.dw #0x7fff
      000005 94 52                  636 	.dw #0x5294
      000007 4A 29                  637 	.dw #0x294a
      000009 00 00                  638 	.dw #0x0000
                                    639 	.area _CABS (ABS)
