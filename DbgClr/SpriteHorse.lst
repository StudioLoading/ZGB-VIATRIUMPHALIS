                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ISO C Compiler 
                                      3 ; Version 4.3.2 #14228 (MINGW64)
                                      4 ;--------------------------------------------------------
                                      5 	.module SpriteHorse
                                      6 	.optsdcc -msm83
                                      7 	
                                      8 ;--------------------------------------------------------
                                      9 ; Public variables in this module
                                     10 ;--------------------------------------------------------
                                     11 	.globl _Destroy_SpriteHorse
                                     12 	.globl _Update_SpriteHorse
                                     13 	.globl _Start_SpriteHorse
                                     14 	.globl b_use_weapon
                                     15 	.globl _use_weapon
                                     16 	.globl _SpriteManagerRemoveSprite
                                     17 	.globl _SpriteManagerAdd
                                     18 	.globl _GetScrollTile
                                     19 	.globl _CheckCollision
                                     20 	.globl _TranslateSprite
                                     21 	.globl _SetSpriteAnim
                                     22 	.globl _s_flame
                                     23 	.globl _onfire_countdown
                                     24 	.globl _orme_spawned
                                     25 	.globl _turn_verse
                                     26 	.globl _past_coll_tile
                                     27 	.globl _turn_samepressure_counter
                                     28 	.globl _cos
                                     29 	.globl _sin
                                     30 	.globl _turn
                                     31 	.globl _no_whip_counter_max
                                     32 	.globl _no_whip_over_stamina
                                     33 	.globl _no_whip_counter
                                     34 	.globl _stamina_verso
                                     35 	.globl _stamina_current
                                     36 	.globl _euphoria_max
                                     37 	.globl _euphoria_min
                                     38 	.globl _whip_counter_max
                                     39 	.globl _whip_counter
                                     40 	.globl _whip_power_over_stamina
                                     41 	.globl _frm_skip
                                     42 	.globl _vx
                                     43 	.globl _vy
                                     44 	.globl _velocity
                                     45 	.globl _velocity_counter
                                     46 	.globl _a_horse_h_idle
                                     47 	.globl _a_horse_hit
                                     48 	.globl _a_horse_h
                                     49 	.globl ___bank_SpriteHorse
                                     50 ;--------------------------------------------------------
                                     51 ; special function registers
                                     52 ;--------------------------------------------------------
                                     53 ;--------------------------------------------------------
                                     54 ; ram data
                                     55 ;--------------------------------------------------------
                                     56 	.area _DATA
                                     57 ;--------------------------------------------------------
                                     58 ; ram data
                                     59 ;--------------------------------------------------------
                                     60 	.area _INITIALIZED
                           000000    61 G$velocity_counter$0_0$0==.
      000000                         62 _velocity_counter::
      000000                         63 	.ds 1
                           000001    64 G$velocity$0_0$0==.
      000001                         65 _velocity::
      000001                         66 	.ds 1
                           000002    67 G$vy$0_0$0==.
      000002                         68 _vy::
      000002                         69 	.ds 1
                           000003    70 G$vx$0_0$0==.
      000003                         71 _vx::
      000003                         72 	.ds 1
                           000004    73 G$frm_skip$0_0$0==.
      000004                         74 _frm_skip::
      000004                         75 	.ds 1
                           000005    76 G$whip_power_over_stamina$0_0$0==.
      000005                         77 _whip_power_over_stamina::
      000005                         78 	.ds 1
                           000006    79 G$whip_counter$0_0$0==.
      000006                         80 _whip_counter::
      000006                         81 	.ds 1
                           000007    82 G$whip_counter_max$0_0$0==.
      000007                         83 _whip_counter_max::
      000007                         84 	.ds 1
                           000008    85 G$euphoria_min$0_0$0==.
      000008                         86 _euphoria_min::
      000008                         87 	.ds 2
                           00000A    88 G$euphoria_max$0_0$0==.
      00000A                         89 _euphoria_max::
      00000A                         90 	.ds 2
                           00000C    91 G$stamina_current$0_0$0==.
      00000C                         92 _stamina_current::
      00000C                         93 	.ds 2
                           00000E    94 G$stamina_verso$0_0$0==.
      00000E                         95 _stamina_verso::
      00000E                         96 	.ds 1
                           00000F    97 G$no_whip_counter$0_0$0==.
      00000F                         98 _no_whip_counter::
      00000F                         99 	.ds 1
                           000010   100 G$no_whip_over_stamina$0_0$0==.
      000010                        101 _no_whip_over_stamina::
      000010                        102 	.ds 1
                           000011   103 G$no_whip_counter_max$0_0$0==.
      000011                        104 _no_whip_counter_max::
      000011                        105 	.ds 1
                           000012   106 G$turn$0_0$0==.
      000012                        107 _turn::
      000012                        108 	.ds 1
                           000013   109 G$sin$0_0$0==.
      000013                        110 _sin::
      000013                        111 	.ds 1
                           000014   112 G$cos$0_0$0==.
      000014                        113 _cos::
      000014                        114 	.ds 1
                           000015   115 G$turn_samepressure_counter$0_0$0==.
      000015                        116 _turn_samepressure_counter::
      000015                        117 	.ds 1
                           000016   118 G$past_coll_tile$0_0$0==.
      000016                        119 _past_coll_tile::
      000016                        120 	.ds 1
                           000017   121 G$turn_verse$0_0$0==.
      000017                        122 _turn_verse::
      000017                        123 	.ds 1
                           000018   124 G$orme_spawned$0_0$0==.
      000018                        125 _orme_spawned::
      000018                        126 	.ds 1
                           000019   127 G$onfire_countdown$0_0$0==.
      000019                        128 _onfire_countdown::
      000019                        129 	.ds 2
                           00001B   130 G$s_flame$0_0$0==.
      00001B                        131 _s_flame::
      00001B                        132 	.ds 2
                                    133 ;--------------------------------------------------------
                                    134 ; absolute external ram data
                                    135 ;--------------------------------------------------------
                                    136 	.area _DABS (ABS)
                                    137 ;--------------------------------------------------------
                                    138 ; global & static initialisations
                                    139 ;--------------------------------------------------------
                                    140 	.area _HOME
                                    141 	.area _GSINIT
                                    142 	.area _GSFINAL
                                    143 	.area _GSINIT
                                    144 ;--------------------------------------------------------
                                    145 ; Home
                                    146 ;--------------------------------------------------------
                                    147 	.area _HOME
                                    148 	.area _HOME
                                    149 ;--------------------------------------------------------
                                    150 ; code
                                    151 ;--------------------------------------------------------
                                    152 	.area _CODE_255
                           000000   153 	G$Start_SpriteHorse$0$0	= .
                                    154 	.globl	G$Start_SpriteHorse$0$0
                           000000   155 	C$SpriteHorse.c$62$0_0$192	= .
                                    156 	.globl	C$SpriteHorse.c$62$0_0$192
                                    157 ;SpriteHorse.c:62: void START() {
                                    158 ;	---------------------------------
                                    159 ; Function Start_SpriteHorse
                                    160 ; ---------------------------------
      000000                        161 _Start_SpriteHorse::
                           000000   162 	C$SpriteHorse.c$63$1_0$192	= .
                                    163 	.globl	C$SpriteHorse.c$63$1_0$192
                                    164 ;SpriteHorse.c:63: SetSpriteAnim(THIS, a_horse_h, 16u);
      000000 3E 10            [ 8]  165 	ld	a, #0x10
      000002 F5               [16]  166 	push	af
      000003 33               [ 8]  167 	inc	sp
      000004 01r3Dr00         [12]  168 	ld	bc, #_a_horse_h
      000007 21r00r00         [12]  169 	ld	hl, #_THIS
      00000A 2A               [ 8]  170 	ld	a, (hl+)
      00000B 5F               [ 4]  171 	ld	e, a
      00000C 56               [ 8]  172 	ld	d, (hl)
      00000D CDr00r00         [24]  173 	call	_SetSpriteAnim
                           000010   174 	C$SpriteHorse.c$64$1_0$192	= .
                                    175 	.globl	C$SpriteHorse.c$64$1_0$192
                                    176 ;SpriteHorse.c:64: frm_skip = velocity_counter;
      000010 FAr00r00         [16]  177 	ld	a, (#_velocity_counter)
      000013 EAr04r00         [16]  178 	ld	(#_frm_skip),a
                           000016   179 	C$SpriteHorse.c$65$1_0$192	= .
                                    180 	.globl	C$SpriteHorse.c$65$1_0$192
                                    181 ;SpriteHorse.c:65: THIS->lim_x = 1000;
      000016 21r00r00         [12]  182 	ld	hl, #_THIS
      000019 2A               [ 8]  183 	ld	a, (hl+)
      00001A 4F               [ 4]  184 	ld	c, a
      00001B 46               [ 8]  185 	ld	b, (hl)
      00001C 21 15 00         [12]  186 	ld	hl, #0x0015
      00001F 09               [ 8]  187 	add	hl, bc
      000020 3E E8            [ 8]  188 	ld	a, #0xe8
      000022 22               [ 8]  189 	ld	(hl+), a
      000023 36 03            [12]  190 	ld	(hl), #0x03
                           000025   191 	C$SpriteHorse.c$66$1_0$192	= .
                                    192 	.globl	C$SpriteHorse.c$66$1_0$192
                                    193 ;SpriteHorse.c:66: THIS->lim_y = 500;
      000025 21r00r00         [12]  194 	ld	hl, #_THIS
      000028 2A               [ 8]  195 	ld	a, (hl+)
      000029 4F               [ 4]  196 	ld	c, a
      00002A 46               [ 8]  197 	ld	b, (hl)
      00002B 21 17 00         [12]  198 	ld	hl, #0x0017
      00002E 09               [ 8]  199 	add	hl, bc
      00002F 3E F4            [ 8]  200 	ld	a, #0xf4
      000031 22               [ 8]  201 	ld	(hl+), a
      000032 36 01            [12]  202 	ld	(hl), #0x01
                           000034   203 	C$SpriteHorse.c$67$1_0$192	= .
                                    204 	.globl	C$SpriteHorse.c$67$1_0$192
                                    205 ;SpriteHorse.c:67: onfire_countdown = -1;
      000034 21r19r00         [12]  206 	ld	hl, #_onfire_countdown
      000037 3E FF            [ 8]  207 	ld	a, #0xff
      000039 22               [ 8]  208 	ld	(hl+), a
      00003A 36 FF            [12]  209 	ld	(hl), #0xff
                           00003C   210 	C$SpriteHorse.c$68$1_0$192	= .
                                    211 	.globl	C$SpriteHorse.c$68$1_0$192
                                    212 ;SpriteHorse.c:68: }
                           00003C   213 	C$SpriteHorse.c$68$1_0$192	= .
                                    214 	.globl	C$SpriteHorse.c$68$1_0$192
                           00003C   215 	XG$Start_SpriteHorse$0$0	= .
                                    216 	.globl	XG$Start_SpriteHorse$0$0
      00003C C9               [16]  217 	ret
                           0000FF   218 G$__bank_SpriteHorse$0_0$0 == 0x00ff
                           0000FF   219 ___bank_SpriteHorse	=	0x00ff
                           00003D   220 G$a_horse_h$0_0$0 == .
      00003D                        221 _a_horse_h:
      00003D 08                     222 	.db #0x08	; 8
      00003E 00                     223 	.db #0x00	; 0
      00003F 01                     224 	.db #0x01	; 1
      000040 02                     225 	.db #0x02	; 2
      000041 03                     226 	.db #0x03	; 3
      000042 04                     227 	.db #0x04	; 4
      000043 05                     228 	.db #0x05	; 5
      000044 06                     229 	.db #0x06	; 6
      000045 07                     230 	.db #0x07	; 7
                           000046   231 G$a_horse_hit$0_0$0 == .
      000046                        232 _a_horse_hit:
      000046 0F                     233 	.db #0x0f	; 15
      000047 00                     234 	.db #0x00	; 0
      000048 01                     235 	.db #0x01	; 1
      000049 00                     236 	.db #0x00	; 0
      00004A 02                     237 	.db #0x02	; 2
      00004B 00                     238 	.db #0x00	; 0
      00004C 03                     239 	.db #0x03	; 3
      00004D 00                     240 	.db #0x00	; 0
      00004E 04                     241 	.db #0x04	; 4
      00004F 00                     242 	.db #0x00	; 0
      000050 05                     243 	.db #0x05	; 5
      000051 00                     244 	.db #0x00	; 0
      000052 06                     245 	.db #0x06	; 6
      000053 00                     246 	.db #0x00	; 0
      000054 07                     247 	.db #0x07	; 7
      000055 00                     248 	.db #0x00	; 0
                           000056   249 G$a_horse_h_idle$0_0$0 == .
      000056                        250 _a_horse_h_idle:
      000056 01                     251 	.db #0x01	; 1
      000057 06                     252 	.db #0x06	; 6
                           000058   253 	G$Update_SpriteHorse$0$0	= .
                                    254 	.globl	G$Update_SpriteHorse$0$0
                           000058   255 	C$SpriteHorse.c$70$1_0$193	= .
                                    256 	.globl	C$SpriteHorse.c$70$1_0$193
                                    257 ;SpriteHorse.c:70: void UPDATE() {
                                    258 ;	---------------------------------
                                    259 ; Function Update_SpriteHorse
                                    260 ; ---------------------------------
      000058                        261 _Update_SpriteHorse::
      000058 E8 F7            [16]  262 	add	sp, #-9
                           00005A   263 	C$SpriteHorse.c$76$2_3$193	= .
                                    264 	.globl	C$SpriteHorse.c$76$2_3$193
                                    265 ;SpriteHorse.c:76: no_whip_counter = no_whip_counter_max;
      00005A 21r11r00         [12]  266 	ld	hl, #_no_whip_counter_max
      00005D 4E               [ 8]  267 	ld	c, (hl)
                           00005E   268 	C$SpriteHorse.c$72$1_0$193	= .
                                    269 	.globl	C$SpriteHorse.c$72$1_0$193
                                    270 ;SpriteHorse.c:72: if(whip_counter <= 0){
      00005E 21r06r00         [12]  271 	ld	hl, #_whip_counter
      000061 5E               [ 8]  272 	ld	e, (hl)
      000062 AF               [ 4]  273 	xor	a, a
      000063 57               [ 4]  274 	ld	d, a
      000064 96               [ 8]  275 	sub	a, (hl)
      000065 CB 7B            [ 8]  276 	bit	7, e
      000067 28 07            [12]  277 	jr	Z, 00959$
      000069 CB 7A            [ 8]  278 	bit	7, d
      00006B 20 08            [12]  279 	jr	NZ, 00960$
      00006D BF               [ 4]  280 	cp	a, a
      00006E 18 05            [12]  281 	jr	00960$
      000070                        282 00959$:
      000070 CB 7A            [ 8]  283 	bit	7, d
      000072 28 01            [12]  284 	jr	Z, 00960$
      000074 37               [ 4]  285 	scf
      000075                        286 00960$:
      000075 38 2A            [12]  287 	jr	C, 00106$
                           000077   288 	C$SpriteHorse.c$73$2_0$194	= .
                                    289 	.globl	C$SpriteHorse.c$73$2_0$194
                                    290 ;SpriteHorse.c:73: if(KEY_TICKED(J_WHIP)){
      000077 FAr00r00         [16]  291 	ld	a, (#_keys)
      00007A 21r00r00         [12]  292 	ld	hl, #_J_WHIP
      00007D A6               [ 8]  293 	and	a,(hl)
      00007E 28 1A            [12]  294 	jr	Z, 00102$
      000080 FAr00r00         [16]  295 	ld	a, (#_previous_keys)
      000083 21r00r00         [12]  296 	ld	hl, #_J_WHIP
      000086 A6               [ 8]  297 	and	a,(hl)
      000087 20 11            [12]  298 	jr	NZ, 00102$
                           000089   299 	C$SpriteHorse.c$74$3_0$195	= .
                                    300 	.globl	C$SpriteHorse.c$74$3_0$195
                                    301 ;SpriteHorse.c:74: stamina_verso = 1;
      000089 21r0Er00         [12]  302 	ld	hl, #_stamina_verso
      00008C 36 01            [12]  303 	ld	(hl), #0x01
                           00008E   304 	C$SpriteHorse.c$75$3_0$195	= .
                                    305 	.globl	C$SpriteHorse.c$75$3_0$195
                                    306 ;SpriteHorse.c:75: whip_counter = whip_counter_max;
      00008E FAr07r00         [16]  307 	ld	a, (#_whip_counter_max)
      000091 EAr06r00         [16]  308 	ld	(#_whip_counter),a
                           000094   309 	C$SpriteHorse.c$76$3_0$195	= .
                                    310 	.globl	C$SpriteHorse.c$76$3_0$195
                                    311 ;SpriteHorse.c:76: no_whip_counter = no_whip_counter_max;
      000094 21r0Fr00         [12]  312 	ld	hl, #_no_whip_counter
      000097 71               [ 8]  313 	ld	(hl), c
      000098 18 0B            [12]  314 	jr	00107$
      00009A                        315 00102$:
                           00009A   316 	C$SpriteHorse.c$78$3_0$196	= .
                                    317 	.globl	C$SpriteHorse.c$78$3_0$196
                                    318 ;SpriteHorse.c:78: stamina_verso = -1;
      00009A 21r0Er00         [12]  319 	ld	hl, #_stamina_verso
      00009D 36 FF            [12]  320 	ld	(hl), #0xff
      00009F 18 04            [12]  321 	jr	00107$
      0000A1                        322 00106$:
                           0000A1   323 	C$SpriteHorse.c$81$2_0$197	= .
                                    324 	.globl	C$SpriteHorse.c$81$2_0$197
                                    325 ;SpriteHorse.c:81: whip_counter--;
      0000A1 21r06r00         [12]  326 	ld	hl, #_whip_counter
      0000A4 35               [12]  327 	dec	(hl)
      0000A5                        328 00107$:
                           0000A5   329 	C$SpriteHorse.c$83$1_0$193	= .
                                    330 	.globl	C$SpriteHorse.c$83$1_0$193
                                    331 ;SpriteHorse.c:83: if(whip_counter > 0){
      0000A5 21r06r00         [12]  332 	ld	hl, #_whip_counter
      0000A8 5E               [ 8]  333 	ld	e, (hl)
      0000A9 AF               [ 4]  334 	xor	a, a
      0000AA 57               [ 4]  335 	ld	d, a
      0000AB 96               [ 8]  336 	sub	a, (hl)
      0000AC CB 7B            [ 8]  337 	bit	7, e
      0000AE 28 07            [12]  338 	jr	Z, 00961$
      0000B0 CB 7A            [ 8]  339 	bit	7, d
      0000B2 20 08            [12]  340 	jr	NZ, 00962$
      0000B4 BF               [ 4]  341 	cp	a, a
      0000B5 18 05            [12]  342 	jr	00962$
      0000B7                        343 00961$:
      0000B7 CB 7A            [ 8]  344 	bit	7, d
      0000B9 28 01            [12]  345 	jr	Z, 00962$
      0000BB 37               [ 4]  346 	scf
      0000BC                        347 00962$:
      0000BC 30 15            [12]  348 	jr	NC, 00113$
                           0000BE   349 	C$SpriteHorse.c$84$2_3$193	= .
                                    350 	.globl	C$SpriteHorse.c$84$2_3$193
                                    351 ;SpriteHorse.c:84: stamina_current += (whip_power_over_stamina * stamina_verso);
      0000BE 21r0Er00         [12]  352 	ld	hl, #_stamina_verso
      0000C1 5E               [ 8]  353 	ld	e, (hl)
      0000C2 FAr05r00         [16]  354 	ld	a, (#_whip_power_over_stamina)
      0000C5 CDr00r00         [24]  355 	call	__mulschar
      0000C8 21r0Cr00         [12]  356 	ld	hl, #_stamina_current
      0000CB 7E               [ 8]  357 	ld	a, (hl)
      0000CC 81               [ 4]  358 	add	a, c
      0000CD 22               [ 8]  359 	ld	(hl+), a
      0000CE 7E               [ 8]  360 	ld	a, (hl)
      0000CF 88               [ 4]  361 	adc	a, b
      0000D0 77               [ 8]  362 	ld	(hl), a
      0000D1 18 33            [12]  363 	jr	00114$
      0000D3                        364 00113$:
                           0000D3   365 	C$SpriteHorse.c$86$2_0$199	= .
                                    366 	.globl	C$SpriteHorse.c$86$2_0$199
                                    367 ;SpriteHorse.c:86: if(no_whip_counter > 0){
      0000D3 21r0Fr00         [12]  368 	ld	hl, #_no_whip_counter
      0000D6 5E               [ 8]  369 	ld	e, (hl)
      0000D7 AF               [ 4]  370 	xor	a, a
      0000D8 57               [ 4]  371 	ld	d, a
      0000D9 96               [ 8]  372 	sub	a, (hl)
      0000DA CB 7B            [ 8]  373 	bit	7, e
      0000DC 28 07            [12]  374 	jr	Z, 00963$
      0000DE CB 7A            [ 8]  375 	bit	7, d
      0000E0 20 08            [12]  376 	jr	NZ, 00964$
      0000E2 BF               [ 4]  377 	cp	a, a
      0000E3 18 05            [12]  378 	jr	00964$
      0000E5                        379 00963$:
      0000E5 CB 7A            [ 8]  380 	bit	7, d
      0000E7 28 01            [12]  381 	jr	Z, 00964$
      0000E9 37               [ 4]  382 	scf
      0000EA                        383 00964$:
      0000EA 30 1A            [12]  384 	jr	NC, 00114$
                           0000EC   385 	C$SpriteHorse.c$87$3_0$200	= .
                                    386 	.globl	C$SpriteHorse.c$87$3_0$200
                                    387 ;SpriteHorse.c:87: no_whip_counter--;
      0000EC 21r0Fr00         [12]  388 	ld	hl, #_no_whip_counter
                           0000EF   389 	C$SpriteHorse.c$88$3_0$200	= .
                                    390 	.globl	C$SpriteHorse.c$88$3_0$200
                                    391 ;SpriteHorse.c:88: if(no_whip_counter == 0){
      0000EF 35               [12]  392 	dec	(hl)
      0000F0 20 14            [12]  393 	jr	NZ, 00114$
                           0000F2   394 	C$SpriteHorse.c$89$4_0$201	= .
                                    395 	.globl	C$SpriteHorse.c$89$4_0$201
                                    396 ;SpriteHorse.c:89: stamina_current += no_whip_over_stamina;
      0000F2 FAr10r00         [16]  397 	ld	a, (#_no_whip_over_stamina)
      0000F5 47               [ 4]  398 	ld	b, a
      0000F6 07               [ 4]  399 	rlca
      0000F7 9F               [ 4]  400 	sbc	a, a
      0000F8 5F               [ 4]  401 	ld	e, a
      0000F9 21r0Cr00         [12]  402 	ld	hl, #_stamina_current
      0000FC 7E               [ 8]  403 	ld	a, (hl)
      0000FD 80               [ 4]  404 	add	a, b
      0000FE 22               [ 8]  405 	ld	(hl+), a
      0000FF 7E               [ 8]  406 	ld	a, (hl)
      000100 8B               [ 4]  407 	adc	a, e
      000101 77               [ 8]  408 	ld	(hl), a
                           000102   409 	C$SpriteHorse.c$90$4_0$201	= .
                                    410 	.globl	C$SpriteHorse.c$90$4_0$201
                                    411 ;SpriteHorse.c:90: no_whip_counter = no_whip_counter_max;
      000102 21r0Fr00         [12]  412 	ld	hl, #_no_whip_counter
      000105 71               [ 8]  413 	ld	(hl), c
      000106                        414 00114$:
                           000106   415 	C$SpriteHorse.c$95$1_0$193	= .
                                    416 	.globl	C$SpriteHorse.c$95$1_0$193
                                    417 ;SpriteHorse.c:95: if(stamina_current < 0){
      000106 21r0Dr00         [12]  418 	ld	hl, #_stamina_current + 1
      000109 CB 7E            [12]  419 	bit	7, (hl)
      00010B 28 04            [12]  420 	jr	Z, 00116$
                           00010D   421 	C$SpriteHorse.c$96$2_0$202	= .
                                    422 	.globl	C$SpriteHorse.c$96$2_0$202
                                    423 ;SpriteHorse.c:96: stamina_current = 0;
      00010D 2B               [ 8]  424 	dec	hl
      00010E AF               [ 4]  425 	xor	a, a
      00010F 22               [ 8]  426 	ld	(hl+), a
      000110 77               [ 8]  427 	ld	(hl), a
      000111                        428 00116$:
                           000111   429 	C$SpriteHorse.c$98$1_0$193	= .
                                    430 	.globl	C$SpriteHorse.c$98$1_0$193
                                    431 ;SpriteHorse.c:98: if(stamina_current > STAMINA_MAX){
      000111 21r0Cr00         [12]  432 	ld	hl, #_stamina_current
      000114 3E C0            [ 8]  433 	ld	a, #0xc0
      000116 96               [ 8]  434 	sub	a, (hl)
      000117 23               [ 8]  435 	inc	hl
      000118 3E 03            [ 8]  436 	ld	a, #0x03
      00011A 9E               [ 8]  437 	sbc	a, (hl)
      00011B 3E 03            [ 8]  438 	ld	a, #0x03
      00011D 57               [ 4]  439 	ld	d, a
      00011E CB 7E            [12]  440 	bit	7, (hl)
      000120 28 07            [12]  441 	jr	Z, 00965$
      000122 CB 7A            [ 8]  442 	bit	7, d
      000124 20 08            [12]  443 	jr	NZ, 00966$
      000126 BF               [ 4]  444 	cp	a, a
      000127 18 05            [12]  445 	jr	00966$
      000129                        446 00965$:
      000129 CB 7A            [ 8]  447 	bit	7, d
      00012B 28 01            [12]  448 	jr	Z, 00966$
      00012D 37               [ 4]  449 	scf
      00012E                        450 00966$:
      00012E 30 08            [12]  451 	jr	NC, 00118$
                           000130   452 	C$SpriteHorse.c$99$2_0$203	= .
                                    453 	.globl	C$SpriteHorse.c$99$2_0$203
                                    454 ;SpriteHorse.c:99: stamina_current = STAMINA_MAX;
      000130 21r0Cr00         [12]  455 	ld	hl, #_stamina_current
      000133 3E C0            [ 8]  456 	ld	a, #0xc0
      000135 22               [ 8]  457 	ld	(hl+), a
      000136 36 03            [12]  458 	ld	(hl), #0x03
      000138                        459 00118$:
                           000138   460 	C$SpriteHorse.c$102$2_0$204	= .
                                    461 	.globl	C$SpriteHorse.c$102$2_0$204
                                    462 ;SpriteHorse.c:102: INT16 delta_stamina_euphoria = 0;
      000138 01 00 00         [12]  463 	ld	bc, #0x0000
                           00013B   464 	C$SpriteHorse.c$103$1_1$204	= .
                                    465 	.globl	C$SpriteHorse.c$103$1_1$204
                                    466 ;SpriteHorse.c:103: if(stamina_current > euphoria_max){
      00013B 21r0Cr00         [12]  467 	ld	hl, #_stamina_current
      00013E 2A               [ 8]  468 	ld	a, (hl+)
      00013F 5F               [ 4]  469 	ld	e, a
      000140 56               [ 8]  470 	ld	d, (hl)
      000141 21r0Ar00         [12]  471 	ld	hl, #_euphoria_max
      000144 2A               [ 8]  472 	ld	a, (hl+)
      000145 93               [ 4]  473 	sub	a, e
      000146 7E               [ 8]  474 	ld	a, (hl)
      000147 9A               [ 4]  475 	sbc	a, d
      000148 30 0A            [12]  476 	jr	NC, 00122$
                           00014A   477 	C$SpriteHorse.c$104$2_1$205	= .
                                    478 	.globl	C$SpriteHorse.c$104$2_1$205
                                    479 ;SpriteHorse.c:104: delta_stamina_euphoria = stamina_current - euphoria_max;
      00014A 2B               [ 8]  480 	dec	hl
      00014B 7B               [ 4]  481 	ld	a, e
      00014C 96               [ 8]  482 	sub	a, (hl)
      00014D 23               [ 8]  483 	inc	hl
      00014E 4F               [ 4]  484 	ld	c, a
      00014F 7A               [ 4]  485 	ld	a, d
      000150 9E               [ 8]  486 	sbc	a, (hl)
      000151 47               [ 4]  487 	ld	b, a
      000152 18 13            [12]  488 	jr	00123$
      000154                        489 00122$:
                           000154   490 	C$SpriteHorse.c$105$1_1$204	= .
                                    491 	.globl	C$SpriteHorse.c$105$1_1$204
                                    492 ;SpriteHorse.c:105: }else if(stamina_current < euphoria_min){
      000154 21r08r00         [12]  493 	ld	hl, #_euphoria_min
      000157 7B               [ 4]  494 	ld	a, e
      000158 96               [ 8]  495 	sub	a, (hl)
      000159 23               [ 8]  496 	inc	hl
      00015A 7A               [ 4]  497 	ld	a, d
      00015B 9E               [ 8]  498 	sbc	a, (hl)
      00015C 30 09            [12]  499 	jr	NC, 00123$
                           00015E   500 	C$SpriteHorse.c$106$2_1$206	= .
                                    501 	.globl	C$SpriteHorse.c$106$2_1$206
                                    502 ;SpriteHorse.c:106: delta_stamina_euphoria = euphoria_min - stamina_current;
      00015E 21r08r00         [12]  503 	ld	hl, #_euphoria_min
      000161 2A               [ 8]  504 	ld	a, (hl+)
      000162 93               [ 4]  505 	sub	a, e
      000163 4F               [ 4]  506 	ld	c, a
      000164 7E               [ 8]  507 	ld	a, (hl)
      000165 9A               [ 4]  508 	sbc	a, d
      000166 47               [ 4]  509 	ld	b, a
      000167                        510 00123$:
                           000167   511 	C$SpriteHorse.c$108$1_1$204	= .
                                    512 	.globl	C$SpriteHorse.c$108$1_1$204
                                    513 ;SpriteHorse.c:108: if(delta_stamina_euphoria > 32){
      000167 58               [ 4]  514 	ld	e, b
      000168 16 00            [ 8]  515 	ld	d, #0x00
      00016A 3E 20            [ 8]  516 	ld	a, #0x20
      00016C B9               [ 4]  517 	cp	a, c
      00016D 3E 00            [ 8]  518 	ld	a, #0x00
      00016F 98               [ 4]  519 	sbc	a, b
      000170 CB 7B            [ 8]  520 	bit	7, e
      000172 28 07            [12]  521 	jr	Z, 00967$
      000174 CB 7A            [ 8]  522 	bit	7, d
      000176 20 08            [12]  523 	jr	NZ, 00968$
      000178 BF               [ 4]  524 	cp	a, a
      000179 18 05            [12]  525 	jr	00968$
      00017B                        526 00967$:
      00017B CB 7A            [ 8]  527 	bit	7, d
      00017D 28 01            [12]  528 	jr	Z, 00968$
      00017F 37               [ 4]  529 	scf
      000180                        530 00968$:
      000180 30 16            [12]  531 	jr	NC, 00125$
                           000182   532 	C$SpriteHorse.c$109$2_1$207	= .
                                    533 	.globl	C$SpriteHorse.c$109$2_1$207
                                    534 ;SpriteHorse.c:109: velocity_counter = delta_stamina_euphoria >> 4;
      000182 CB 28            [ 8]  535 	sra	b
      000184 CB 19            [ 8]  536 	rr	c
      000186 CB 28            [ 8]  537 	sra	b
      000188 CB 19            [ 8]  538 	rr	c
      00018A CB 28            [ 8]  539 	sra	b
      00018C CB 19            [ 8]  540 	rr	c
      00018E CB 28            [ 8]  541 	sra	b
      000190 CB 19            [ 8]  542 	rr	c
      000192 21r00r00         [12]  543 	ld	hl, #_velocity_counter
      000195 71               [ 8]  544 	ld	(hl), c
      000196 18 05            [12]  545 	jr	00126$
      000198                        546 00125$:
                           000198   547 	C$SpriteHorse.c$111$2_1$208	= .
                                    548 	.globl	C$SpriteHorse.c$111$2_1$208
                                    549 ;SpriteHorse.c:111: velocity_counter = 2;
      000198 21r00r00         [12]  550 	ld	hl, #_velocity_counter
      00019B 36 02            [12]  551 	ld	(hl), #0x02
      00019D                        552 00126$:
                           00019D   553 	C$SpriteHorse.c$114$1_1$204	= .
                                    554 	.globl	C$SpriteHorse.c$114$1_1$204
                                    555 ;SpriteHorse.c:114: if(onfire_countdown > 0){//sta impazzendo
      00019D 21r19r00         [12]  556 	ld	hl, #_onfire_countdown
      0001A0 AF               [ 4]  557 	xor	a, a
      0001A1 96               [ 8]  558 	sub	a, (hl)
      0001A2 23               [ 8]  559 	inc	hl
      0001A3 3E 00            [ 8]  560 	ld	a, #0x00
      0001A5 9E               [ 8]  561 	sbc	a, (hl)
      0001A6 3E 00            [ 8]  562 	ld	a, #0x00
      0001A8 57               [ 4]  563 	ld	d, a
      0001A9 CB 7E            [12]  564 	bit	7, (hl)
      0001AB 28 07            [12]  565 	jr	Z, 00969$
      0001AD CB 7A            [ 8]  566 	bit	7, d
      0001AF 20 08            [12]  567 	jr	NZ, 00970$
      0001B1 BF               [ 4]  568 	cp	a, a
      0001B2 18 05            [12]  569 	jr	00970$
      0001B4                        570 00969$:
      0001B4 CB 7A            [ 8]  571 	bit	7, d
      0001B6 28 01            [12]  572 	jr	Z, 00970$
      0001B8 37               [ 4]  573 	scf
      0001B9                        574 00970$:
      0001B9 D2r87r02         [16]  575 	jp	NC, 00144$
                           0001BC   576 	C$SpriteHorse.c$115$2_1$209	= .
                                    577 	.globl	C$SpriteHorse.c$115$2_1$209
                                    578 ;SpriteHorse.c:115: onfire_countdown--;
      0001BC 21r19r00         [12]  579 	ld	hl, #_onfire_countdown
      0001BF 2A               [ 8]  580 	ld	a, (hl+)
      0001C0 5F               [ 4]  581 	ld	e, a
      0001C1 3A               [ 8]  582 	ld	a, (hl-)
      0001C2 57               [ 4]  583 	ld	d, a
      0001C3 1B               [ 8]  584 	dec	de
      0001C4 7B               [ 4]  585 	ld	a, e
      0001C5 22               [ 8]  586 	ld	(hl+), a
                           0001C6   587 	C$SpriteHorse.c$116$2_1$209	= .
                                    588 	.globl	C$SpriteHorse.c$116$2_1$209
                                    589 ;SpriteHorse.c:116: switch(onfire_countdown){
      0001C6 7A               [ 4]  590 	ld	a, d
      0001C7 32               [ 8]  591 	ld	(hl-), a
      0001C8 2A               [ 8]  592 	ld	a, (hl+)
      0001C9 D6 32            [ 8]  593 	sub	a, #0x32
      0001CB B6               [ 8]  594 	or	a, (hl)
      0001CC 28 3E            [12]  595 	jr	Z, 00133$
      0001CE 21r19r00         [12]  596 	ld	hl, #_onfire_countdown
      0001D1 2A               [ 8]  597 	ld	a, (hl+)
      0001D2 D6 64            [ 8]  598 	sub	a, #0x64
      0001D4 B6               [ 8]  599 	or	a, (hl)
      0001D5 28 35            [12]  600 	jr	Z, 00133$
      0001D7 21r19r00         [12]  601 	ld	hl, #_onfire_countdown
      0001DA 2A               [ 8]  602 	ld	a, (hl+)
      0001DB D6 96            [ 8]  603 	sub	a, #0x96
      0001DD B6               [ 8]  604 	or	a, (hl)
      0001DE 28 2C            [12]  605 	jr	Z, 00133$
      0001E0 21r19r00         [12]  606 	ld	hl, #_onfire_countdown
      0001E3 2A               [ 8]  607 	ld	a, (hl+)
      0001E4 D6 C8            [ 8]  608 	sub	a, #0xc8
      0001E6 B6               [ 8]  609 	or	a, (hl)
      0001E7 28 23            [12]  610 	jr	Z, 00133$
      0001E9 21r19r00         [12]  611 	ld	hl, #_onfire_countdown
      0001EC 2A               [ 8]  612 	ld	a, (hl+)
      0001ED D6 FA            [ 8]  613 	sub	a, #0xfa
      0001EF B6               [ 8]  614 	or	a, (hl)
      0001F0 28 1A            [12]  615 	jr	Z, 00133$
      0001F2 21r19r00         [12]  616 	ld	hl, #_onfire_countdown
      0001F5 7E               [ 8]  617 	ld	a, (hl)
      0001F6 D6 2C            [ 8]  618 	sub	a, #0x2c
      0001F8 20 05            [12]  619 	jr	NZ, 00976$
      0001FA 23               [ 8]  620 	inc	hl
      0001FB 7E               [ 8]  621 	ld	a, (hl)
      0001FC 3D               [ 4]  622 	dec	a
      0001FD 28 0D            [12]  623 	jr	Z, 00133$
      0001FF                        624 00976$:
      0001FF 21r19r00         [12]  625 	ld	hl, #_onfire_countdown
      000202 7E               [ 8]  626 	ld	a, (hl)
      000203 D6 5E            [ 8]  627 	sub	a, #0x5e
      000205 20 09            [12]  628 	jr	NZ, 00134$
      000207 23               [ 8]  629 	inc	hl
      000208 7E               [ 8]  630 	ld	a, (hl)
      000209 3D               [ 4]  631 	dec	a
      00020A 20 04            [12]  632 	jr	NZ, 00134$
                           00020C   633 	C$SpriteHorse.c$118$3_1$210	= .
                                    634 	.globl	C$SpriteHorse.c$118$3_1$210
                                    635 ;SpriteHorse.c:118: case 200: case 250: case 300: case 350:
      00020C                        636 00133$:
                           00020C   637 	C$SpriteHorse.c$119$3_1$210	= .
                                    638 	.globl	C$SpriteHorse.c$119$3_1$210
                                    639 ;SpriteHorse.c:119: hp_current--;
      00020C 21r00r00         [12]  640 	ld	hl, #_hp_current
      00020F 35               [12]  641 	dec	(hl)
                           000210   642 	C$SpriteHorse.c$121$2_1$209	= .
                                    643 	.globl	C$SpriteHorse.c$121$2_1$209
                                    644 ;SpriteHorse.c:121: }
      000210                        645 00134$:
                           000210   646 	C$SpriteHorse.c$122$2_1$209	= .
                                    647 	.globl	C$SpriteHorse.c$122$2_1$209
                                    648 ;SpriteHorse.c:122: velocity_counter = 1;//cioè vai a cannone
      000210 21r00r00         [12]  649 	ld	hl, #_velocity_counter
      000213 36 01            [12]  650 	ld	(hl), #0x01
                           000215   651 	C$SpriteHorse.c$123$2_1$209	= .
                                    652 	.globl	C$SpriteHorse.c$123$2_1$209
                                    653 ;SpriteHorse.c:123: stamina_current = EUPHORIA_MAX+1;//fissa la stamina a euphoria_max
      000215 21r0Cr00         [12]  654 	ld	hl, #_stamina_current
      000218 3E 95            [ 8]  655 	ld	a, #0x95
      00021A 22               [ 8]  656 	ld	(hl+), a
      00021B 36 02            [12]  657 	ld	(hl), #0x02
                           00021D   658 	C$SpriteHorse.c$124$2_1$209	= .
                                    659 	.globl	C$SpriteHorse.c$124$2_1$209
                                    660 ;SpriteHorse.c:124: s_flame->x = THIS->x +2;
      00021D 21r1Br00         [12]  661 	ld	hl, #_s_flame
      000220 2A               [ 8]  662 	ld	a, (hl+)
      000221 46               [ 8]  663 	ld	b, (hl)
      000222 C6 0C            [ 8]  664 	add	a, #0x0c
      000224 4F               [ 4]  665 	ld	c, a
      000225 30 01            [12]  666 	jr	NC, 00979$
      000227 04               [ 4]  667 	inc	b
      000228                        668 00979$:
      000228 21r00r00         [12]  669 	ld	hl, #_THIS
      00022B 2A               [ 8]  670 	ld	a, (hl+)
      00022C 5F               [ 4]  671 	ld	e, a
      00022D 56               [ 8]  672 	ld	d, (hl)
      00022E 21 0C 00         [12]  673 	ld	hl, #0x000c
      000231 19               [ 8]  674 	add	hl, de
      000232 2A               [ 8]  675 	ld	a, (hl+)
      000233 6E               [ 8]  676 	ld	l, (hl)
                                    677 ;	spillPairReg hl
      000234 5F               [ 4]  678 	ld	e, a
      000235 55               [ 4]  679 	ld	d, l
      000236 13               [ 8]  680 	inc	de
      000237 13               [ 8]  681 	inc	de
      000238 7B               [ 4]  682 	ld	a, e
      000239 02               [ 8]  683 	ld	(bc), a
      00023A 03               [ 8]  684 	inc	bc
      00023B 7A               [ 4]  685 	ld	a, d
      00023C 02               [ 8]  686 	ld	(bc), a
                           00023D   687 	C$SpriteHorse.c$125$2_1$209	= .
                                    688 	.globl	C$SpriteHorse.c$125$2_1$209
                                    689 ;SpriteHorse.c:125: s_flame->y = THIS->y-7;
      00023D 21r1Br00         [12]  690 	ld	hl, #_s_flame
      000240 2A               [ 8]  691 	ld	a, (hl+)
      000241 46               [ 8]  692 	ld	b, (hl)
      000242 C6 0E            [ 8]  693 	add	a, #0x0e
      000244 4F               [ 4]  694 	ld	c, a
      000245 30 01            [12]  695 	jr	NC, 00980$
      000247 04               [ 4]  696 	inc	b
      000248                        697 00980$:
      000248 21r00r00         [12]  698 	ld	hl, #_THIS
      00024B 2A               [ 8]  699 	ld	a, (hl+)
      00024C 5F               [ 4]  700 	ld	e, a
      00024D 56               [ 8]  701 	ld	d, (hl)
      00024E 21 0E 00         [12]  702 	ld	hl, #0x000e
      000251 19               [ 8]  703 	add	hl, de
      000252 2A               [ 8]  704 	ld	a, (hl+)
      000253 6E               [ 8]  705 	ld	l, (hl)
                                    706 ;	spillPairReg hl
      000254 C6 F9            [ 8]  707 	add	a, #0xf9
      000256 5F               [ 4]  708 	ld	e, a
      000257 7D               [ 4]  709 	ld	a, l
      000258 CE FF            [ 8]  710 	adc	a, #0xff
      00025A 57               [ 4]  711 	ld	d, a
      00025B 7B               [ 4]  712 	ld	a, e
      00025C 02               [ 8]  713 	ld	(bc), a
      00025D 03               [ 8]  714 	inc	bc
      00025E 7A               [ 4]  715 	ld	a, d
      00025F 02               [ 8]  716 	ld	(bc), a
                           000260   717 	C$SpriteHorse.c$126$2_1$209	= .
                                    718 	.globl	C$SpriteHorse.c$126$2_1$209
                                    719 ;SpriteHorse.c:126: if(weapon_def == CAPE){
      000260 FAr00r00         [16]  720 	ld	a, (#_weapon_def)
      000263 D6 08            [ 8]  721 	sub	a, #0x08
      000265 20 68            [12]  722 	jr	NZ, 00145$
                           000267   723 	C$SpriteHorse.c$127$3_1$211	= .
                                    724 	.globl	C$SpriteHorse.c$127$3_1$211
                                    725 ;SpriteHorse.c:127: use_weapon(1);
      000267 3E 01            [ 8]  726 	ld	a, #0x01
      000269 F5               [16]  727 	push	af
      00026A 33               [ 8]  728 	inc	sp
      00026B 1Er00            [ 8]  729 	ld	e, #b_use_weapon
      00026D 21r00r00         [12]  730 	ld	hl, #_use_weapon
      000270 CDr00r00         [24]  731 	call	___sdcc_bcall_ehl
      000273 33               [ 8]  732 	inc	sp
                           000274   733 	C$SpriteHorse.c$128$3_1$211	= .
                                    734 	.globl	C$SpriteHorse.c$128$3_1$211
                                    735 ;SpriteHorse.c:128: SpriteManagerRemoveSprite(s_flame);
      000274 21r1Br00         [12]  736 	ld	hl, #_s_flame
      000277 2A               [ 8]  737 	ld	a, (hl+)
      000278 5F               [ 4]  738 	ld	e, a
      000279 56               [ 8]  739 	ld	d, (hl)
      00027A CDr00r00         [24]  740 	call	_SpriteManagerRemoveSprite
                           00027D   741 	C$SpriteHorse.c$129$3_1$211	= .
                                    742 	.globl	C$SpriteHorse.c$129$3_1$211
                                    743 ;SpriteHorse.c:129: onfire_countdown = 2;
      00027D 21r19r00         [12]  744 	ld	hl, #_onfire_countdown
      000280 3E 02            [ 8]  745 	ld	a, #0x02
      000282 22               [ 8]  746 	ld	(hl+), a
      000283 AF               [ 4]  747 	xor	a, a
      000284 77               [ 8]  748 	ld	(hl), a
      000285 18 48            [12]  749 	jr	00145$
      000287                        750 00144$:
                           000287   751 	C$SpriteHorse.c$132$2_1$212	= .
                                    752 	.globl	C$SpriteHorse.c$132$2_1$212
                                    753 ;SpriteHorse.c:132: if(euphoria_min != EUPHORIA_MIN){
      000287 21r08r00         [12]  754 	ld	hl, #_euphoria_min
      00028A 7E               [ 8]  755 	ld	a, (hl)
      00028B D6 90            [ 8]  756 	sub	a, #0x90
      00028D 20 05            [12]  757 	jr	NZ, 00983$
      00028F 23               [ 8]  758 	inc	hl
      000290 7E               [ 8]  759 	ld	a, (hl)
      000291 3D               [ 4]  760 	dec	a
      000292 28 08            [12]  761 	jr	Z, 00138$
      000294                        762 00983$:
                           000294   763 	C$SpriteHorse.c$133$3_1$213	= .
                                    764 	.globl	C$SpriteHorse.c$133$3_1$213
                                    765 ;SpriteHorse.c:133: euphoria_min = EUPHORIA_MIN;
      000294 21r08r00         [12]  766 	ld	hl, #_euphoria_min
      000297 3E 90            [ 8]  767 	ld	a, #0x90
      000299 22               [ 8]  768 	ld	(hl+), a
      00029A 36 01            [12]  769 	ld	(hl), #0x01
      00029C                        770 00138$:
                           00029C   771 	C$SpriteHorse.c$135$2_1$212	= .
                                    772 	.globl	C$SpriteHorse.c$135$2_1$212
                                    773 ;SpriteHorse.c:135: if(euphoria_max != EUPHORIA_MAX){
      00029C 21r0Ar00         [12]  774 	ld	hl, #_euphoria_max
      00029F 7E               [ 8]  775 	ld	a, (hl)
      0002A0 D6 94            [ 8]  776 	sub	a, #0x94
      0002A2 20 06            [12]  777 	jr	NZ, 00984$
      0002A4 23               [ 8]  778 	inc	hl
      0002A5 7E               [ 8]  779 	ld	a, (hl)
      0002A6 D6 02            [ 8]  780 	sub	a, #0x02
      0002A8 28 08            [12]  781 	jr	Z, 00140$
      0002AA                        782 00984$:
                           0002AA   783 	C$SpriteHorse.c$136$3_1$214	= .
                                    784 	.globl	C$SpriteHorse.c$136$3_1$214
                                    785 ;SpriteHorse.c:136: euphoria_max = EUPHORIA_MAX;
      0002AA 21r0Ar00         [12]  786 	ld	hl, #_euphoria_max
      0002AD 3E 94            [ 8]  787 	ld	a, #0x94
      0002AF 22               [ 8]  788 	ld	(hl+), a
      0002B0 36 02            [12]  789 	ld	(hl), #0x02
      0002B2                        790 00140$:
                           0002B2   791 	C$SpriteHorse.c$138$2_1$212	= .
                                    792 	.globl	C$SpriteHorse.c$138$2_1$212
                                    793 ;SpriteHorse.c:138: if(whip_power_over_stamina != WHIP_POWER){//se entro qui, sto risistemando la whip ed è appena terminato l'onfire.
      0002B2 FAr05r00         [16]  794 	ld	a, (#_whip_power_over_stamina)
      0002B5 D6 03            [ 8]  795 	sub	a, #0x03
      0002B7 28 16            [12]  796 	jr	Z, 00145$
                           0002B9   797 	C$SpriteHorse.c$139$3_1$215	= .
                                    798 	.globl	C$SpriteHorse.c$139$3_1$215
                                    799 ;SpriteHorse.c:139: whip_power_over_stamina = WHIP_POWER;
      0002B9 21r05r00         [12]  800 	ld	hl, #_whip_power_over_stamina
      0002BC 36 03            [12]  801 	ld	(hl), #0x03
                           0002BE   802 	C$SpriteHorse.c$140$3_1$215	= .
                                    803 	.globl	C$SpriteHorse.c$140$3_1$215
                                    804 ;SpriteHorse.c:140: stamina_current = (EUPHORIA_MIN - (EUPHORIA_MIN >> 3));
      0002BE 21r0Cr00         [12]  805 	ld	hl, #_stamina_current
      0002C1 3E 5E            [ 8]  806 	ld	a, #0x5e
      0002C3 22               [ 8]  807 	ld	(hl+), a
      0002C4 36 01            [12]  808 	ld	(hl), #0x01
                           0002C6   809 	C$SpriteHorse.c$141$3_1$215	= .
                                    810 	.globl	C$SpriteHorse.c$141$3_1$215
                                    811 ;SpriteHorse.c:141: SpriteManagerRemoveSprite(s_flame);
      0002C6 21r1Br00         [12]  812 	ld	hl, #_s_flame
      0002C9 2A               [ 8]  813 	ld	a, (hl+)
      0002CA 5F               [ 4]  814 	ld	e, a
      0002CB 56               [ 8]  815 	ld	d, (hl)
      0002CC CDr00r00         [24]  816 	call	_SpriteManagerRemoveSprite
      0002CF                        817 00145$:
                           0002CF   818 	C$SpriteHorse.c$146$2_3$193	= .
                                    819 	.globl	C$SpriteHorse.c$146$2_3$193
                                    820 ;SpriteHorse.c:146: if(KEY_RELEASED(J_RIGHT) || KEY_RELEASED(J_LEFT)){
      0002CF 21r00r00         [12]  821 	ld	hl, #_previous_keys
      0002D2 4E               [ 8]  822 	ld	c, (hl)
      0002D3 21r00r00         [12]  823 	ld	hl, #_keys
      0002D6 46               [ 8]  824 	ld	b, (hl)
      0002D7 78               [ 4]  825 	ld	a, b
      0002D8 E6 01            [ 8]  826 	and	a, #0x01
      0002DA F5               [16]  827 	push	af
      0002DB 78               [ 4]  828 	ld	a, b
      0002DC E6 02            [ 8]  829 	and	a, #0x02
      0002DE 5F               [ 4]  830 	ld	e, a
      0002DF F1               [12]  831 	pop	af
      0002E0 CB 41            [ 8]  832 	bit	0, c
      0002E2 28 03            [12]  833 	jr	Z, 00150$
      0002E4 B7               [ 4]  834 	or	a, a
      0002E5 28 08            [12]  835 	jr	Z, 00146$
      0002E7                        836 00150$:
      0002E7 CB 49            [ 8]  837 	bit	1, c
      0002E9 28 0E            [12]  838 	jr	Z, 00147$
      0002EB 1C               [ 4]  839 	inc	e
      0002EC 1D               [ 4]  840 	dec	e
      0002ED 20 0A            [12]  841 	jr	NZ, 00147$
      0002EF                        842 00146$:
                           0002EF   843 	C$SpriteHorse.c$147$2_1$216	= .
                                    844 	.globl	C$SpriteHorse.c$147$2_1$216
                                    845 ;SpriteHorse.c:147: turn_samepressure_counter = 0;
      0002EF 21r15r00         [12]  846 	ld	hl, #_turn_samepressure_counter
      0002F2 36 00            [12]  847 	ld	(hl), #0x00
                           0002F4   848 	C$SpriteHorse.c$148$2_1$216	= .
                                    849 	.globl	C$SpriteHorse.c$148$2_1$216
                                    850 ;SpriteHorse.c:148: hud_turn_cooldown = HUD_TURN_COOLDOWN_MAX;
      0002F4 21r00r00         [12]  851 	ld	hl, #_hud_turn_cooldown
      0002F7 36 14            [12]  852 	ld	(hl), #0x14
      0002F9                        853 00147$:
                           0002F9   854 	C$SpriteHorse.c$154$2_3$193	= .
                                    855 	.globl	C$SpriteHorse.c$154$2_3$193
                                    856 ;SpriteHorse.c:154: turn_samepressure_counter++;
      0002F9 21r15r00         [12]  857 	ld	hl, #_turn_samepressure_counter
      0002FC 56               [ 8]  858 	ld	d, (hl)
      0002FD 14               [ 4]  859 	inc	d
                           0002FE   860 	C$SpriteHorse.c$151$1_1$204	= .
                                    861 	.globl	C$SpriteHorse.c$151$1_1$204
                                    862 ;SpriteHorse.c:151: if(KEY_PRESSED(J_RIGHT)){
      0002FE B7               [ 4]  863 	or	a, a
      0002FF 28 67            [12]  864 	jr	Z, 00163$
                           000301   865 	C$SpriteHorse.c$152$2_1$217	= .
                                    866 	.globl	C$SpriteHorse.c$152$2_1$217
                                    867 ;SpriteHorse.c:152: turn_verse = CLOCK;
      000301 21r17r00         [12]  868 	ld	hl, #_turn_verse
      000304 36 01            [12]  869 	ld	(hl), #0x01
                           000306   870 	C$SpriteHorse.c$153$2_1$217	= .
                                    871 	.globl	C$SpriteHorse.c$153$2_1$217
                                    872 ;SpriteHorse.c:153: turn--;
      000306 21r12r00         [12]  873 	ld	hl, #_turn
      000309 35               [12]  874 	dec	(hl)
                           00030A   875 	C$SpriteHorse.c$154$2_1$217	= .
                                    876 	.globl	C$SpriteHorse.c$154$2_1$217
                                    877 ;SpriteHorse.c:154: turn_samepressure_counter++;
      00030A 21r15r00         [12]  878 	ld	hl, #_turn_samepressure_counter
      00030D 72               [ 8]  879 	ld	(hl), d
                           00030E   880 	C$SpriteHorse.c$155$2_1$217	= .
                                    881 	.globl	C$SpriteHorse.c$155$2_1$217
                                    882 ;SpriteHorse.c:155: if(turn_samepressure_counter >= 40 && ((sin > 30 && sin < 78) || (sin < -30 && sin > -78))){
      00030E 7E               [ 8]  883 	ld	a, (hl)
      00030F EE 80            [ 8]  884 	xor	a, #0x80
      000311 D6 A8            [ 8]  885 	sub	a, #0xa8
      000313 DArA3r03         [16]  886 	jp	C, 00164$
      000316 21r13r00         [12]  887 	ld	hl, #_sin
      000319 5E               [ 8]  888 	ld	e, (hl)
      00031A 3E 1E            [ 8]  889 	ld	a,#0x1e
      00031C 57               [ 4]  890 	ld	d,a
      00031D 96               [ 8]  891 	sub	a, (hl)
      00031E CB 7B            [ 8]  892 	bit	7, e
      000320 28 07            [12]  893 	jr	Z, 00988$
      000322 CB 7A            [ 8]  894 	bit	7, d
      000324 20 08            [12]  895 	jr	NZ, 00989$
      000326 BF               [ 4]  896 	cp	a, a
      000327 18 05            [12]  897 	jr	00989$
      000329                        898 00988$:
      000329 CB 7A            [ 8]  899 	bit	7, d
      00032B 28 01            [12]  900 	jr	Z, 00989$
      00032D 37               [ 4]  901 	scf
      00032E                        902 00989$:
      00032E 30 09            [12]  903 	jr	NC, 00155$
      000330 FAr13r00         [16]  904 	ld	a, (#_sin)
      000333 EE 80            [ 8]  905 	xor	a, #0x80
      000335 D6 CE            [ 8]  906 	sub	a, #0xce
      000337 38 21            [12]  907 	jr	C, 00151$
      000339                        908 00155$:
      000339 21r13r00         [12]  909 	ld	hl, #_sin
      00033C 7E               [ 8]  910 	ld	a, (hl)
      00033D EE 80            [ 8]  911 	xor	a, #0x80
      00033F D6 62            [ 8]  912 	sub	a, #0x62
      000341 30 60            [12]  913 	jr	NC, 00164$
      000343 5E               [ 8]  914 	ld	e, (hl)
      000344 3E B2            [ 8]  915 	ld	a,#0xb2
      000346 57               [ 4]  916 	ld	d,a
      000347 96               [ 8]  917 	sub	a, (hl)
      000348 CB 7B            [ 8]  918 	bit	7, e
      00034A 28 07            [12]  919 	jr	Z, 00990$
      00034C CB 7A            [ 8]  920 	bit	7, d
      00034E 20 08            [12]  921 	jr	NZ, 00991$
      000350 BF               [ 4]  922 	cp	a, a
      000351 18 05            [12]  923 	jr	00991$
      000353                        924 00990$:
      000353 CB 7A            [ 8]  925 	bit	7, d
      000355 28 01            [12]  926 	jr	Z, 00991$
      000357 37               [ 4]  927 	scf
      000358                        928 00991$:
      000358 30 49            [12]  929 	jr	NC, 00164$
      00035A                        930 00151$:
                           00035A   931 	C$SpriteHorse.c$156$3_1$218	= .
                                    932 	.globl	C$SpriteHorse.c$156$3_1$218
                                    933 ;SpriteHorse.c:156: turn_samepressure_counter = 40;
      00035A 21r15r00         [12]  934 	ld	hl, #_turn_samepressure_counter
      00035D 36 28            [12]  935 	ld	(hl), #0x28
                           00035F   936 	C$SpriteHorse.c$157$3_1$218	= .
                                    937 	.globl	C$SpriteHorse.c$157$3_1$218
                                    938 ;SpriteHorse.c:157: turn-=2;
      00035F 21r12r00         [12]  939 	ld	hl, #_turn
      000362 7E               [ 8]  940 	ld	a, (hl)
      000363 C6 FE            [ 8]  941 	add	a, #0xfe
      000365 77               [ 8]  942 	ld	(hl), a
      000366 18 3B            [12]  943 	jr	00164$
      000368                        944 00163$:
                           000368   945 	C$SpriteHorse.c$159$1_1$204	= .
                                    946 	.globl	C$SpriteHorse.c$159$1_1$204
                                    947 ;SpriteHorse.c:159: }else if(KEY_PRESSED(J_LEFT)){
      000368 7B               [ 4]  948 	ld	a, e
      000369 B7               [ 4]  949 	or	a, a
      00036A 28 32            [12]  950 	jr	Z, 00160$
                           00036C   951 	C$SpriteHorse.c$160$2_1$219	= .
                                    952 	.globl	C$SpriteHorse.c$160$2_1$219
                                    953 ;SpriteHorse.c:160: turn_verse = COUNTERCLOCK;
      00036C 21r17r00         [12]  954 	ld	hl, #_turn_verse
      00036F 36 02            [12]  955 	ld	(hl), #0x02
                           000371   956 	C$SpriteHorse.c$161$2_1$219	= .
                                    957 	.globl	C$SpriteHorse.c$161$2_1$219
                                    958 ;SpriteHorse.c:161: turn++;
      000371 21r12r00         [12]  959 	ld	hl, #_turn
      000374 34               [12]  960 	inc	(hl)
                           000375   961 	C$SpriteHorse.c$162$2_1$219	= .
                                    962 	.globl	C$SpriteHorse.c$162$2_1$219
                                    963 ;SpriteHorse.c:162: turn_samepressure_counter++;
      000375 21r15r00         [12]  964 	ld	hl, #_turn_samepressure_counter
      000378 72               [ 8]  965 	ld	(hl), d
                           000379   966 	C$SpriteHorse.c$163$2_1$219	= .
                                    967 	.globl	C$SpriteHorse.c$163$2_1$219
                                    968 ;SpriteHorse.c:163: if(turn_samepressure_counter > 40){
      000379 5E               [ 8]  969 	ld	e, (hl)
      00037A 3E 28            [ 8]  970 	ld	a,#0x28
      00037C 57               [ 4]  971 	ld	d,a
      00037D 96               [ 8]  972 	sub	a, (hl)
      00037E CB 7B            [ 8]  973 	bit	7, e
      000380 28 07            [12]  974 	jr	Z, 00992$
      000382 CB 7A            [ 8]  975 	bit	7, d
      000384 20 08            [12]  976 	jr	NZ, 00993$
      000386 BF               [ 4]  977 	cp	a, a
      000387 18 05            [12]  978 	jr	00993$
      000389                        979 00992$:
      000389 CB 7A            [ 8]  980 	bit	7, d
      00038B 28 01            [12]  981 	jr	Z, 00993$
      00038D 37               [ 4]  982 	scf
      00038E                        983 00993$:
      00038E 30 13            [12]  984 	jr	NC, 00164$
                           000390   985 	C$SpriteHorse.c$164$3_1$220	= .
                                    986 	.globl	C$SpriteHorse.c$164$3_1$220
                                    987 ;SpriteHorse.c:164: turn_samepressure_counter = 40;
      000390 21r15r00         [12]  988 	ld	hl, #_turn_samepressure_counter
      000393 36 28            [12]  989 	ld	(hl), #0x28
                           000395   990 	C$SpriteHorse.c$165$3_1$220	= .
                                    991 	.globl	C$SpriteHorse.c$165$3_1$220
                                    992 ;SpriteHorse.c:165: turn+=2;
      000395 21r12r00         [12]  993 	ld	hl, #_turn
      000398 7E               [ 8]  994 	ld	a, (hl)
      000399 C6 02            [ 8]  995 	add	a, #0x02
      00039B 77               [ 8]  996 	ld	(hl), a
      00039C 18 05            [12]  997 	jr	00164$
      00039E                        998 00160$:
                           00039E   999 	C$SpriteHorse.c$168$2_1$221	= .
                                   1000 	.globl	C$SpriteHorse.c$168$2_1$221
                                   1001 ;SpriteHorse.c:168: turn_verse = NONE; 
      00039E 21r17r00         [12] 1002 	ld	hl, #_turn_verse
      0003A1 36 00            [12] 1003 	ld	(hl), #0x00
      0003A3                       1004 00164$:
                           0003A3  1005 	C$SpriteHorse.c$170$1_1$204	= .
                                   1006 	.globl	C$SpriteHorse.c$170$1_1$204
                                   1007 ;SpriteHorse.c:170: if(KEY_TICKED(J_UP)){
      0003A3 CB 50            [ 8] 1008 	bit	2, b
      0003A5 28 0E            [12] 1009 	jr	Z, 00166$
      0003A7 CB 51            [ 8] 1010 	bit	2, c
      0003A9 20 0A            [12] 1011 	jr	NZ, 00166$
                           0003AB  1012 	C$SpriteHorse.c$171$2_1$222	= .
                                   1013 	.globl	C$SpriteHorse.c$171$2_1$222
                                   1014 ;SpriteHorse.c:171: turn = 64;
      0003AB 21r12r00         [12] 1015 	ld	hl, #_turn
      0003AE 36 40            [12] 1016 	ld	(hl), #0x40
                           0003B0  1017 	C$SpriteHorse.c$172$2_1$222	= .
                                   1018 	.globl	C$SpriteHorse.c$172$2_1$222
                                   1019 ;SpriteHorse.c:172: turn_samepressure_counter = 0;
      0003B0 21r15r00         [12] 1020 	ld	hl, #_turn_samepressure_counter
      0003B3 36 00            [12] 1021 	ld	(hl), #0x00
      0003B5                       1022 00166$:
                           0003B5  1023 	C$SpriteHorse.c$174$1_1$204	= .
                                   1024 	.globl	C$SpriteHorse.c$174$1_1$204
                                   1025 ;SpriteHorse.c:174: if(KEY_TICKED(J_DOWN)){
      0003B5 CB 58            [ 8] 1026 	bit	3, b
      0003B7 28 0E            [12] 1027 	jr	Z, 00169$
      0003B9 CB 59            [ 8] 1028 	bit	3, c
      0003BB 20 0A            [12] 1029 	jr	NZ, 00169$
                           0003BD  1030 	C$SpriteHorse.c$175$2_1$223	= .
                                   1031 	.globl	C$SpriteHorse.c$175$2_1$223
                                   1032 ;SpriteHorse.c:175: turn = 192;
      0003BD 21r12r00         [12] 1033 	ld	hl, #_turn
      0003C0 36 C0            [12] 1034 	ld	(hl), #0xc0
                           0003C2  1035 	C$SpriteHorse.c$176$2_1$223	= .
                                   1036 	.globl	C$SpriteHorse.c$176$2_1$223
                                   1037 ;SpriteHorse.c:176: turn_samepressure_counter = 0;
      0003C2 21r15r00         [12] 1038 	ld	hl, #_turn_samepressure_counter
      0003C5 36 00            [12] 1039 	ld	(hl), #0x00
      0003C7                       1040 00169$:
                           0003C7  1041 	C$SpriteHorse.c$178$1_1$204	= .
                                   1042 	.globl	C$SpriteHorse.c$178$1_1$204
                                   1043 ;SpriteHorse.c:178: sin = sine_wave[turn];
      0003C7 01r00r00         [12] 1044 	ld	bc, #_sine_wave+0
      0003CA 79               [ 4] 1045 	ld	a, c
      0003CB 21r12r00         [12] 1046 	ld	hl, #_turn
      0003CE 86               [ 8] 1047 	add	a, (hl)
      0003CF 5F               [ 4] 1048 	ld	e, a
      0003D0 78               [ 4] 1049 	ld	a, b
      0003D1 CE 00            [ 8] 1050 	adc	a, #0x00
      0003D3 57               [ 4] 1051 	ld	d, a
      0003D4 1A               [ 8] 1052 	ld	a, (de)
      0003D5 EAr13r00         [16] 1053 	ld	(#_sin),a
                           0003D8  1054 	C$SpriteHorse.c$179$1_2$224	= .
                                   1055 	.globl	C$SpriteHorse.c$179$1_2$224
                                   1056 ;SpriteHorse.c:179: UINT8 cos_idx = turn+64;
      0003D8 FAr12r00         [16] 1057 	ld	a, (#_turn)
      0003DB C6 40            [ 8] 1058 	add	a, #0x40
                           0003DD  1059 	C$SpriteHorse.c$180$1_2$224	= .
                                   1060 	.globl	C$SpriteHorse.c$180$1_2$224
                                   1061 ;SpriteHorse.c:180: cos = sine_wave[cos_idx];
      0003DD 6F               [ 4] 1062 	ld	l, a
      0003DE 26 00            [ 8] 1063 	ld	h, #0x00
      0003E0 09               [ 8] 1064 	add	hl, bc
      0003E1 7E               [ 8] 1065 	ld	a, (hl)
      0003E2 EAr14r00         [16] 1066 	ld	(#_cos),a
                           0003E5  1067 	C$SpriteHorse.c$183$1_2$224	= .
                                   1068 	.globl	C$SpriteHorse.c$183$1_2$224
                                   1069 ;SpriteHorse.c:183: frm_skip--;
      0003E5 21r04r00         [12] 1070 	ld	hl, #_frm_skip
                           0003E8  1071 	C$SpriteHorse.c$184$1_2$224	= .
                                   1072 	.globl	C$SpriteHorse.c$184$1_2$224
                                   1073 ;SpriteHorse.c:184: if(frm_skip == 0){
      0003E8 35               [12] 1074 	dec	(hl)
      0003E9 C2r84r09         [16] 1075 	jp	NZ, 00279$
                           0003EC  1076 	C$SpriteHorse.c$185$2_2$225	= .
                                   1077 	.globl	C$SpriteHorse.c$185$2_2$225
                                   1078 ;SpriteHorse.c:185: frm_skip = velocity_counter;
      0003EC FAr00r00         [16] 1079 	ld	a, (#_velocity_counter)
      0003EF EAr04r00         [16] 1080 	ld	(#_frm_skip),a
                           0003F2  1081 	C$SpriteHorse.c$192$2_3$193	= .
                                   1082 	.globl	C$SpriteHorse.c$192$2_3$193
                                   1083 ;SpriteHorse.c:192: if(cos >= 0 && cos <= 30){//tratto come se stesse andando verticale
      0003F2 21r14r00         [12] 1084 	ld	hl, #_cos
      0003F5 7E               [ 8] 1085 	ld	a, (hl)
      0003F6 07               [ 4] 1086 	rlca
      0003F7 E6 01            [ 8] 1087 	and	a,#0x01
      0003F9 4F               [ 4] 1088 	ld	c, a
      0003FA 5E               [ 8] 1089 	ld	e, (hl)
      0003FB 3E 1E            [ 8] 1090 	ld	a,#0x1e
      0003FD 57               [ 4] 1091 	ld	d,a
      0003FE 96               [ 8] 1092 	sub	a, (hl)
      0003FF CB 7B            [ 8] 1093 	bit	7, e
      000401 28 07            [12] 1094 	jr	Z, 01000$
      000403 CB 7A            [ 8] 1095 	bit	7, d
      000405 20 08            [12] 1096 	jr	NZ, 01001$
      000407 BF               [ 4] 1097 	cp	a, a
      000408 18 05            [12] 1098 	jr	01001$
      00040A                       1099 01000$:
      00040A CB 7A            [ 8] 1100 	bit	7, d
      00040C 28 01            [12] 1101 	jr	Z, 01001$
      00040E 37               [ 4] 1102 	scf
      00040F                       1103 01001$:
      00040F 3E 00            [ 8] 1104 	ld	a, #0x00
      000411 17               [ 4] 1105 	rla
      000412 CB 41            [ 8] 1106 	bit	0, c
      000414 20 0B            [12] 1107 	jr	NZ, 00197$
      000416 B7               [ 4] 1108 	or	a, a
      000417 20 08            [12] 1109 	jr	NZ, 00197$
                           000419  1110 	C$SpriteHorse.c$193$3_2$226	= .
                                   1111 	.globl	C$SpriteHorse.c$193$3_2$226
                                   1112 ;SpriteHorse.c:193: vx = 0;
      000419 21r03r00         [12] 1113 	ld	hl, #_vx
      00041C 36 00            [12] 1114 	ld	(hl), #0x00
      00041E C3r05r05         [16] 1115 	jp	00198$
      000421                       1116 00197$:
                           000421  1117 	C$SpriteHorse.c$194$2_2$225	= .
                                   1118 	.globl	C$SpriteHorse.c$194$2_2$225
                                   1119 ;SpriteHorse.c:194: }else if(cos > 30 && cos < 54){// tratto come se stesse andando a 66 gradi
      000421 B7               [ 4] 1120 	or	a, a
      000422 28 11            [12] 1121 	jr	Z, 00193$
      000424 FAr14r00         [16] 1122 	ld	a, (#_cos)
      000427 EE 80            [ 8] 1123 	xor	a, #0x80
      000429 D6 B6            [ 8] 1124 	sub	a, #0xb6
      00042B 30 08            [12] 1125 	jr	NC, 00193$
                           00042D  1126 	C$SpriteHorse.c$195$3_2$227	= .
                                   1127 	.globl	C$SpriteHorse.c$195$3_2$227
                                   1128 ;SpriteHorse.c:195: vx = 1;
      00042D 21r03r00         [12] 1129 	ld	hl, #_vx
      000430 36 01            [12] 1130 	ld	(hl), #0x01
      000432 C3r05r05         [16] 1131 	jp	00198$
      000435                       1132 00193$:
                           000435  1133 	C$SpriteHorse.c$196$2_2$225	= .
                                   1134 	.globl	C$SpriteHorse.c$196$2_2$225
                                   1135 ;SpriteHorse.c:196: }else if(cos > 54 && cos < 78){// tratto come se stesse andando a 33 gradi
      000435 21r14r00         [12] 1136 	ld	hl, #_cos
      000438 5E               [ 8] 1137 	ld	e, (hl)
      000439 3E 36            [ 8] 1138 	ld	a,#0x36
      00043B 57               [ 4] 1139 	ld	d,a
      00043C 96               [ 8] 1140 	sub	a, (hl)
      00043D CB 7B            [ 8] 1141 	bit	7, e
      00043F 28 07            [12] 1142 	jr	Z, 01002$
      000441 CB 7A            [ 8] 1143 	bit	7, d
      000443 20 08            [12] 1144 	jr	NZ, 01003$
      000445 BF               [ 4] 1145 	cp	a, a
      000446 18 05            [12] 1146 	jr	01003$
      000448                       1147 01002$:
      000448 CB 7A            [ 8] 1148 	bit	7, d
      00044A 28 01            [12] 1149 	jr	Z, 01003$
      00044C 37               [ 4] 1150 	scf
      00044D                       1151 01003$:
      00044D 30 11            [12] 1152 	jr	NC, 00189$
      00044F FAr14r00         [16] 1153 	ld	a, (#_cos)
      000452 EE 80            [ 8] 1154 	xor	a, #0x80
      000454 D6 CE            [ 8] 1155 	sub	a, #0xce
      000456 30 08            [12] 1156 	jr	NC, 00189$
                           000458  1157 	C$SpriteHorse.c$197$3_2$228	= .
                                   1158 	.globl	C$SpriteHorse.c$197$3_2$228
                                   1159 ;SpriteHorse.c:197: vx = 2;
      000458 21r03r00         [12] 1160 	ld	hl, #_vx
      00045B 36 02            [12] 1161 	ld	(hl), #0x02
      00045D C3r05r05         [16] 1162 	jp	00198$
      000460                       1163 00189$:
                           000460  1164 	C$SpriteHorse.c$198$2_2$225	= .
                                   1165 	.globl	C$SpriteHorse.c$198$2_2$225
                                   1166 ;SpriteHorse.c:198: }else if(cos > 78){ // tratto come se stesse andando orizzontale destra
      000460 21r14r00         [12] 1167 	ld	hl, #_cos
      000463 5E               [ 8] 1168 	ld	e, (hl)
      000464 3E 4E            [ 8] 1169 	ld	a,#0x4e
      000466 57               [ 4] 1170 	ld	d,a
      000467 96               [ 8] 1171 	sub	a, (hl)
      000468 CB 7B            [ 8] 1172 	bit	7, e
      00046A 28 07            [12] 1173 	jr	Z, 01004$
      00046C CB 7A            [ 8] 1174 	bit	7, d
      00046E 20 08            [12] 1175 	jr	NZ, 01005$
      000470 BF               [ 4] 1176 	cp	a, a
      000471 18 05            [12] 1177 	jr	01005$
      000473                       1178 01004$:
      000473 CB 7A            [ 8] 1179 	bit	7, d
      000475 28 01            [12] 1180 	jr	Z, 01005$
      000477 37               [ 4] 1181 	scf
      000478                       1182 01005$:
      000478 30 08            [12] 1183 	jr	NC, 00186$
                           00047A  1184 	C$SpriteHorse.c$199$3_2$229	= .
                                   1185 	.globl	C$SpriteHorse.c$199$3_2$229
                                   1186 ;SpriteHorse.c:199: vx = 3;
      00047A 21r03r00         [12] 1187 	ld	hl, #_vx
      00047D 36 03            [12] 1188 	ld	(hl), #0x03
      00047F C3r05r05         [16] 1189 	jp	00198$
      000482                       1190 00186$:
                           000482  1191 	C$SpriteHorse.c$200$2_2$225	= .
                                   1192 	.globl	C$SpriteHorse.c$200$2_2$225
                                   1193 ;SpriteHorse.c:200: }else if(cos < 0 && cos > -30){//tratto come se stesse andando verticale
      000482 79               [ 4] 1194 	ld	a, c
      000483 B7               [ 4] 1195 	or	a, a
      000484 28 21            [12] 1196 	jr	Z, 00182$
      000486 21r14r00         [12] 1197 	ld	hl, #_cos
      000489 5E               [ 8] 1198 	ld	e, (hl)
      00048A 3E E2            [ 8] 1199 	ld	a,#0xe2
      00048C 57               [ 4] 1200 	ld	d,a
      00048D 96               [ 8] 1201 	sub	a, (hl)
      00048E CB 7B            [ 8] 1202 	bit	7, e
      000490 28 07            [12] 1203 	jr	Z, 01006$
      000492 CB 7A            [ 8] 1204 	bit	7, d
      000494 20 08            [12] 1205 	jr	NZ, 01007$
      000496 BF               [ 4] 1206 	cp	a, a
      000497 18 05            [12] 1207 	jr	01007$
      000499                       1208 01006$:
      000499 CB 7A            [ 8] 1209 	bit	7, d
      00049B 28 01            [12] 1210 	jr	Z, 01007$
      00049D 37               [ 4] 1211 	scf
      00049E                       1212 01007$:
      00049E 30 07            [12] 1213 	jr	NC, 00182$
                           0004A0  1214 	C$SpriteHorse.c$201$3_2$230	= .
                                   1215 	.globl	C$SpriteHorse.c$201$3_2$230
                                   1216 ;SpriteHorse.c:201: vx = 0;
      0004A0 21r03r00         [12] 1217 	ld	hl, #_vx
      0004A3 36 00            [12] 1218 	ld	(hl), #0x00
      0004A5 18 5E            [12] 1219 	jr	00198$
      0004A7                       1220 00182$:
                           0004A7  1221 	C$SpriteHorse.c$202$2_2$225	= .
                                   1222 	.globl	C$SpriteHorse.c$202$2_2$225
                                   1223 ;SpriteHorse.c:202: }else if(cos < -30 && cos > -54){// tratto come se stesse andando a 66 gradi sinistra
      0004A7 21r14r00         [12] 1224 	ld	hl, #_cos
      0004AA 7E               [ 8] 1225 	ld	a, (hl)
      0004AB EE 80            [ 8] 1226 	xor	a, #0x80
      0004AD D6 62            [ 8] 1227 	sub	a, #0x62
      0004AF 30 1E            [12] 1228 	jr	NC, 00178$
      0004B1 5E               [ 8] 1229 	ld	e, (hl)
      0004B2 3E CA            [ 8] 1230 	ld	a,#0xca
      0004B4 57               [ 4] 1231 	ld	d,a
      0004B5 96               [ 8] 1232 	sub	a, (hl)
      0004B6 CB 7B            [ 8] 1233 	bit	7, e
      0004B8 28 07            [12] 1234 	jr	Z, 01008$
      0004BA CB 7A            [ 8] 1235 	bit	7, d
      0004BC 20 08            [12] 1236 	jr	NZ, 01009$
      0004BE BF               [ 4] 1237 	cp	a, a
      0004BF 18 05            [12] 1238 	jr	01009$
      0004C1                       1239 01008$:
      0004C1 CB 7A            [ 8] 1240 	bit	7, d
      0004C3 28 01            [12] 1241 	jr	Z, 01009$
      0004C5 37               [ 4] 1242 	scf
      0004C6                       1243 01009$:
      0004C6 30 07            [12] 1244 	jr	NC, 00178$
                           0004C8  1245 	C$SpriteHorse.c$203$3_2$231	= .
                                   1246 	.globl	C$SpriteHorse.c$203$3_2$231
                                   1247 ;SpriteHorse.c:203: vx = -1;
      0004C8 21r03r00         [12] 1248 	ld	hl, #_vx
      0004CB 36 FF            [12] 1249 	ld	(hl), #0xff
      0004CD 18 36            [12] 1250 	jr	00198$
      0004CF                       1251 00178$:
                           0004CF  1252 	C$SpriteHorse.c$204$2_2$225	= .
                                   1253 	.globl	C$SpriteHorse.c$204$2_2$225
                                   1254 ;SpriteHorse.c:204: }else if(cos < -54 && cos > -78){// tratto come se stesse andando a 33 gradi sinistra
      0004CF 21r14r00         [12] 1255 	ld	hl, #_cos
      0004D2 7E               [ 8] 1256 	ld	a, (hl)
      0004D3 EE 80            [ 8] 1257 	xor	a, #0x80
      0004D5 D6 4A            [ 8] 1258 	sub	a, #0x4a
      0004D7 30 1E            [12] 1259 	jr	NC, 00174$
      0004D9 5E               [ 8] 1260 	ld	e, (hl)
      0004DA 3E B2            [ 8] 1261 	ld	a,#0xb2
      0004DC 57               [ 4] 1262 	ld	d,a
      0004DD 96               [ 8] 1263 	sub	a, (hl)
      0004DE CB 7B            [ 8] 1264 	bit	7, e
      0004E0 28 07            [12] 1265 	jr	Z, 01010$
      0004E2 CB 7A            [ 8] 1266 	bit	7, d
      0004E4 20 08            [12] 1267 	jr	NZ, 01011$
      0004E6 BF               [ 4] 1268 	cp	a, a
      0004E7 18 05            [12] 1269 	jr	01011$
      0004E9                       1270 01010$:
      0004E9 CB 7A            [ 8] 1271 	bit	7, d
      0004EB 28 01            [12] 1272 	jr	Z, 01011$
      0004ED 37               [ 4] 1273 	scf
      0004EE                       1274 01011$:
      0004EE 30 07            [12] 1275 	jr	NC, 00174$
                           0004F0  1276 	C$SpriteHorse.c$205$3_2$232	= .
                                   1277 	.globl	C$SpriteHorse.c$205$3_2$232
                                   1278 ;SpriteHorse.c:205: vx = -2;
      0004F0 21r03r00         [12] 1279 	ld	hl, #_vx
      0004F3 36 FE            [12] 1280 	ld	(hl), #0xfe
      0004F5 18 0E            [12] 1281 	jr	00198$
      0004F7                       1282 00174$:
                           0004F7  1283 	C$SpriteHorse.c$206$2_2$225	= .
                                   1284 	.globl	C$SpriteHorse.c$206$2_2$225
                                   1285 ;SpriteHorse.c:206: }else if(cos < -78){ // tratto come se stesse andando orizzontale sinistra
      0004F7 FAr14r00         [16] 1286 	ld	a, (#_cos)
      0004FA EE 80            [ 8] 1287 	xor	a, #0x80
      0004FC D6 32            [ 8] 1288 	sub	a, #0x32
      0004FE 30 05            [12] 1289 	jr	NC, 00198$
                           000500  1290 	C$SpriteHorse.c$207$3_2$233	= .
                                   1291 	.globl	C$SpriteHorse.c$207$3_2$233
                                   1292 ;SpriteHorse.c:207: vx = -3;
      000500 21r03r00         [12] 1293 	ld	hl, #_vx
      000503 36 FD            [12] 1294 	ld	(hl), #0xfd
      000505                       1295 00198$:
                           000505  1296 	C$SpriteHorse.c$155$2_3$193	= .
                                   1297 	.globl	C$SpriteHorse.c$155$2_3$193
                                   1298 ;SpriteHorse.c:155: if(turn_samepressure_counter >= 40 && ((sin > 30 && sin < 78) || (sin < -30 && sin > -78))){
      000505 21r13r00         [12] 1299 	ld	hl, #_sin
      000508 5E               [ 8] 1300 	ld	e, (hl)
      000509 3E 1E            [ 8] 1301 	ld	a,#0x1e
      00050B 57               [ 4] 1302 	ld	d,a
      00050C 96               [ 8] 1303 	sub	a, (hl)
      00050D CB 7B            [ 8] 1304 	bit	7, e
      00050F 28 07            [12] 1305 	jr	Z, 01012$
      000511 CB 7A            [ 8] 1306 	bit	7, d
      000513 20 08            [12] 1307 	jr	NZ, 01013$
      000515 BF               [ 4] 1308 	cp	a, a
      000516 18 05            [12] 1309 	jr	01013$
      000518                       1310 01012$:
      000518 CB 7A            [ 8] 1311 	bit	7, d
      00051A 28 01            [12] 1312 	jr	Z, 01013$
      00051C 37               [ 4] 1313 	scf
      00051D                       1314 01013$:
      00051D 3E 00            [ 8] 1315 	ld	a, #0x00
      00051F 17               [ 4] 1316 	rla
      000520 4F               [ 4] 1317 	ld	c, a
                           000521  1318 	C$SpriteHorse.c$210$2_3$193	= .
                                   1319 	.globl	C$SpriteHorse.c$210$2_3$193
                                   1320 ;SpriteHorse.c:210: if(sin >= 0 && sin <= 30){//tratto come se stesse andando orizzontale
      000521 FAr13r00         [16] 1321 	ld	a, (#_sin)
      000524 07               [ 4] 1322 	rlca
      000525 E6 01            [ 8] 1323 	and	a,#0x01
      000527 47               [ 4] 1324 	ld	b, a
      000528 CB 40            [ 8] 1325 	bit	0, b
      00052A 20 0D            [12] 1326 	jr	NZ, 00226$
      00052C 59               [ 4] 1327 	ld	e, c
      00052D CB 43            [ 8] 1328 	bit	0, e
      00052F 20 08            [12] 1329 	jr	NZ, 00226$
                           000531  1330 	C$SpriteHorse.c$211$3_2$234	= .
                                   1331 	.globl	C$SpriteHorse.c$211$3_2$234
                                   1332 ;SpriteHorse.c:211: vy = 0;
      000531 21r02r00         [12] 1333 	ld	hl, #_vy
      000534 36 00            [12] 1334 	ld	(hl), #0x00
      000536 C3r1Er06         [16] 1335 	jp	00227$
      000539                       1336 00226$:
                           000539  1337 	C$SpriteHorse.c$212$2_2$225	= .
                                   1338 	.globl	C$SpriteHorse.c$212$2_2$225
                                   1339 ;SpriteHorse.c:212: }else if(sin > 30 && sin < 54){// tratto come se stesse andando a 33 gradi
      000539 79               [ 4] 1340 	ld	a, c
      00053A B7               [ 4] 1341 	or	a, a
      00053B 28 11            [12] 1342 	jr	Z, 00222$
      00053D FAr13r00         [16] 1343 	ld	a, (#_sin)
      000540 EE 80            [ 8] 1344 	xor	a, #0x80
      000542 D6 B6            [ 8] 1345 	sub	a, #0xb6
      000544 30 08            [12] 1346 	jr	NC, 00222$
                           000546  1347 	C$SpriteHorse.c$213$3_2$235	= .
                                   1348 	.globl	C$SpriteHorse.c$213$3_2$235
                                   1349 ;SpriteHorse.c:213: vy = -1;
      000546 21r02r00         [12] 1350 	ld	hl, #_vy
      000549 36 FF            [12] 1351 	ld	(hl), #0xff
      00054B C3r1Er06         [16] 1352 	jp	00227$
      00054E                       1353 00222$:
                           00054E  1354 	C$SpriteHorse.c$214$2_2$225	= .
                                   1355 	.globl	C$SpriteHorse.c$214$2_2$225
                                   1356 ;SpriteHorse.c:214: }else if(sin > 54 && sin < 78){// tratto come se stesse andando a 66 gradi
      00054E 21r13r00         [12] 1357 	ld	hl, #_sin
      000551 5E               [ 8] 1358 	ld	e, (hl)
      000552 3E 36            [ 8] 1359 	ld	a,#0x36
      000554 57               [ 4] 1360 	ld	d,a
      000555 96               [ 8] 1361 	sub	a, (hl)
      000556 CB 7B            [ 8] 1362 	bit	7, e
      000558 28 07            [12] 1363 	jr	Z, 01014$
      00055A CB 7A            [ 8] 1364 	bit	7, d
      00055C 20 08            [12] 1365 	jr	NZ, 01015$
      00055E BF               [ 4] 1366 	cp	a, a
      00055F 18 05            [12] 1367 	jr	01015$
      000561                       1368 01014$:
      000561 CB 7A            [ 8] 1369 	bit	7, d
      000563 28 01            [12] 1370 	jr	Z, 01015$
      000565 37               [ 4] 1371 	scf
      000566                       1372 01015$:
      000566 30 11            [12] 1373 	jr	NC, 00218$
      000568 FAr13r00         [16] 1374 	ld	a, (#_sin)
      00056B EE 80            [ 8] 1375 	xor	a, #0x80
      00056D D6 CE            [ 8] 1376 	sub	a, #0xce
      00056F 30 08            [12] 1377 	jr	NC, 00218$
                           000571  1378 	C$SpriteHorse.c$215$3_2$236	= .
                                   1379 	.globl	C$SpriteHorse.c$215$3_2$236
                                   1380 ;SpriteHorse.c:215: vy = -1;
      000571 21r02r00         [12] 1381 	ld	hl, #_vy
      000574 36 FF            [12] 1382 	ld	(hl), #0xff
      000576 C3r1Er06         [16] 1383 	jp	00227$
      000579                       1384 00218$:
                           000579  1385 	C$SpriteHorse.c$216$2_2$225	= .
                                   1386 	.globl	C$SpriteHorse.c$216$2_2$225
                                   1387 ;SpriteHorse.c:216: }else if(sin > 78){ // tratto come se stesse andando verticale alto
      000579 21r13r00         [12] 1388 	ld	hl, #_sin
      00057C 5E               [ 8] 1389 	ld	e, (hl)
      00057D 3E 4E            [ 8] 1390 	ld	a,#0x4e
      00057F 57               [ 4] 1391 	ld	d,a
      000580 96               [ 8] 1392 	sub	a, (hl)
      000581 CB 7B            [ 8] 1393 	bit	7, e
      000583 28 07            [12] 1394 	jr	Z, 01016$
      000585 CB 7A            [ 8] 1395 	bit	7, d
      000587 20 08            [12] 1396 	jr	NZ, 01017$
      000589 BF               [ 4] 1397 	cp	a, a
      00058A 18 05            [12] 1398 	jr	01017$
      00058C                       1399 01016$:
      00058C CB 7A            [ 8] 1400 	bit	7, d
      00058E 28 01            [12] 1401 	jr	Z, 01017$
      000590 37               [ 4] 1402 	scf
      000591                       1403 01017$:
      000591 30 08            [12] 1404 	jr	NC, 00215$
                           000593  1405 	C$SpriteHorse.c$217$3_2$237	= .
                                   1406 	.globl	C$SpriteHorse.c$217$3_2$237
                                   1407 ;SpriteHorse.c:217: vy = -2;
      000593 21r02r00         [12] 1408 	ld	hl, #_vy
      000596 36 FE            [12] 1409 	ld	(hl), #0xfe
      000598 C3r1Er06         [16] 1410 	jp	00227$
      00059B                       1411 00215$:
                           00059B  1412 	C$SpriteHorse.c$218$2_2$225	= .
                                   1413 	.globl	C$SpriteHorse.c$218$2_2$225
                                   1414 ;SpriteHorse.c:218: }else if(sin < 0 && sin > -30){//tratto come se stesse andando orizzontale
      00059B 78               [ 4] 1415 	ld	a, b
      00059C B7               [ 4] 1416 	or	a, a
      00059D 28 21            [12] 1417 	jr	Z, 00211$
      00059F 21r13r00         [12] 1418 	ld	hl, #_sin
      0005A2 5E               [ 8] 1419 	ld	e, (hl)
      0005A3 3E E2            [ 8] 1420 	ld	a,#0xe2
      0005A5 57               [ 4] 1421 	ld	d,a
      0005A6 96               [ 8] 1422 	sub	a, (hl)
      0005A7 CB 7B            [ 8] 1423 	bit	7, e
      0005A9 28 07            [12] 1424 	jr	Z, 01018$
      0005AB CB 7A            [ 8] 1425 	bit	7, d
      0005AD 20 08            [12] 1426 	jr	NZ, 01019$
      0005AF BF               [ 4] 1427 	cp	a, a
      0005B0 18 05            [12] 1428 	jr	01019$
      0005B2                       1429 01018$:
      0005B2 CB 7A            [ 8] 1430 	bit	7, d
      0005B4 28 01            [12] 1431 	jr	Z, 01019$
      0005B6 37               [ 4] 1432 	scf
      0005B7                       1433 01019$:
      0005B7 30 07            [12] 1434 	jr	NC, 00211$
                           0005B9  1435 	C$SpriteHorse.c$219$3_2$238	= .
                                   1436 	.globl	C$SpriteHorse.c$219$3_2$238
                                   1437 ;SpriteHorse.c:219: vy = 0;
      0005B9 21r02r00         [12] 1438 	ld	hl, #_vy
      0005BC 36 00            [12] 1439 	ld	(hl), #0x00
      0005BE 18 5E            [12] 1440 	jr	00227$
      0005C0                       1441 00211$:
                           0005C0  1442 	C$SpriteHorse.c$220$2_2$225	= .
                                   1443 	.globl	C$SpriteHorse.c$220$2_2$225
                                   1444 ;SpriteHorse.c:220: }else if(sin < -30 && sin > -54){// tratto come se stesse andando a -33 gradi 
      0005C0 21r13r00         [12] 1445 	ld	hl, #_sin
      0005C3 7E               [ 8] 1446 	ld	a, (hl)
      0005C4 EE 80            [ 8] 1447 	xor	a, #0x80
      0005C6 D6 62            [ 8] 1448 	sub	a, #0x62
      0005C8 30 1E            [12] 1449 	jr	NC, 00207$
      0005CA 5E               [ 8] 1450 	ld	e, (hl)
      0005CB 3E CA            [ 8] 1451 	ld	a,#0xca
      0005CD 57               [ 4] 1452 	ld	d,a
      0005CE 96               [ 8] 1453 	sub	a, (hl)
      0005CF CB 7B            [ 8] 1454 	bit	7, e
      0005D1 28 07            [12] 1455 	jr	Z, 01020$
      0005D3 CB 7A            [ 8] 1456 	bit	7, d
      0005D5 20 08            [12] 1457 	jr	NZ, 01021$
      0005D7 BF               [ 4] 1458 	cp	a, a
      0005D8 18 05            [12] 1459 	jr	01021$
      0005DA                       1460 01020$:
      0005DA CB 7A            [ 8] 1461 	bit	7, d
      0005DC 28 01            [12] 1462 	jr	Z, 01021$
      0005DE 37               [ 4] 1463 	scf
      0005DF                       1464 01021$:
      0005DF 30 07            [12] 1465 	jr	NC, 00207$
                           0005E1  1466 	C$SpriteHorse.c$221$3_2$239	= .
                                   1467 	.globl	C$SpriteHorse.c$221$3_2$239
                                   1468 ;SpriteHorse.c:221: vy = 1;
      0005E1 21r02r00         [12] 1469 	ld	hl, #_vy
      0005E4 36 01            [12] 1470 	ld	(hl), #0x01
      0005E6 18 36            [12] 1471 	jr	00227$
      0005E8                       1472 00207$:
                           0005E8  1473 	C$SpriteHorse.c$222$2_2$225	= .
                                   1474 	.globl	C$SpriteHorse.c$222$2_2$225
                                   1475 ;SpriteHorse.c:222: }else if(sin < -54 && sin > -78){// tratto come se stesse andando a -66 gradi 
      0005E8 21r13r00         [12] 1476 	ld	hl, #_sin
      0005EB 7E               [ 8] 1477 	ld	a, (hl)
      0005EC EE 80            [ 8] 1478 	xor	a, #0x80
      0005EE D6 4A            [ 8] 1479 	sub	a, #0x4a
      0005F0 30 1E            [12] 1480 	jr	NC, 00203$
      0005F2 5E               [ 8] 1481 	ld	e, (hl)
      0005F3 3E B2            [ 8] 1482 	ld	a,#0xb2
      0005F5 57               [ 4] 1483 	ld	d,a
      0005F6 96               [ 8] 1484 	sub	a, (hl)
      0005F7 CB 7B            [ 8] 1485 	bit	7, e
      0005F9 28 07            [12] 1486 	jr	Z, 01022$
      0005FB CB 7A            [ 8] 1487 	bit	7, d
      0005FD 20 08            [12] 1488 	jr	NZ, 01023$
      0005FF BF               [ 4] 1489 	cp	a, a
      000600 18 05            [12] 1490 	jr	01023$
      000602                       1491 01022$:
      000602 CB 7A            [ 8] 1492 	bit	7, d
      000604 28 01            [12] 1493 	jr	Z, 01023$
      000606 37               [ 4] 1494 	scf
      000607                       1495 01023$:
      000607 30 07            [12] 1496 	jr	NC, 00203$
                           000609  1497 	C$SpriteHorse.c$223$3_2$240	= .
                                   1498 	.globl	C$SpriteHorse.c$223$3_2$240
                                   1499 ;SpriteHorse.c:223: vy = 1;
      000609 21r02r00         [12] 1500 	ld	hl, #_vy
      00060C 36 01            [12] 1501 	ld	(hl), #0x01
      00060E 18 0E            [12] 1502 	jr	00227$
      000610                       1503 00203$:
                           000610  1504 	C$SpriteHorse.c$224$2_2$225	= .
                                   1505 	.globl	C$SpriteHorse.c$224$2_2$225
                                   1506 ;SpriteHorse.c:224: }else if(sin < -78){ // tratto come se stesse andando verticale basso
      000610 FAr13r00         [16] 1507 	ld	a, (#_sin)
      000613 EE 80            [ 8] 1508 	xor	a, #0x80
      000615 D6 32            [ 8] 1509 	sub	a, #0x32
      000617 30 05            [12] 1510 	jr	NC, 00227$
                           000619  1511 	C$SpriteHorse.c$225$3_2$241	= .
                                   1512 	.globl	C$SpriteHorse.c$225$3_2$241
                                   1513 ;SpriteHorse.c:225: vy = 2;
      000619 21r02r00         [12] 1514 	ld	hl, #_vy
      00061C 36 02            [12] 1515 	ld	(hl), #0x02
      00061E                       1516 00227$:
                           00061E  1517 	C$SpriteHorse.c$228$2_3$242	= .
                                   1518 	.globl	C$SpriteHorse.c$228$2_3$242
                                   1519 ;SpriteHorse.c:228: INT8 horse_coll = TranslateSprite(THIS, vx << delta_time, vy << delta_time);
      00061E 21r00r00         [12] 1520 	ld	hl, #_delta_time
      000621 46               [ 8] 1521 	ld	b, (hl)
      000622 FAr02r00         [16] 1522 	ld	a, (#_vy)
      000625 04               [ 4] 1523 	inc	b
      000626 18 01            [12] 1524 	jr	01025$
      000628                       1525 01024$:
      000628 87               [ 4] 1526 	add	a, a
      000629                       1527 01025$:
      000629 05               [ 4] 1528 	dec	b
      00062A 20 FC            [12] 1529 	jr	NZ,01024$
      00062C 21r00r00         [12] 1530 	ld	hl, #_delta_time
      00062F 46               [ 8] 1531 	ld	b, (hl)
      000630 21r03r00         [12] 1532 	ld	hl, #_vx
      000633 4E               [ 8] 1533 	ld	c, (hl)
      000634 04               [ 4] 1534 	inc	b
      000635 18 02            [12] 1535 	jr	01027$
      000637                       1536 01026$:
      000637 CB 21            [ 8] 1537 	sla	c
      000639                       1538 01027$:
      000639 05               [ 4] 1539 	dec	b
      00063A 20 FB            [12] 1540 	jr	NZ,01026$
      00063C F5               [16] 1541 	push	af
      00063D 33               [ 8] 1542 	inc	sp
      00063E 79               [ 4] 1543 	ld	a, c
      00063F 21r00r00         [12] 1544 	ld	hl, #_THIS
      000642 5E               [ 8] 1545 	ld	e, (hl)
      000643 23               [ 8] 1546 	inc	hl
      000644 56               [ 8] 1547 	ld	d, (hl)
      000645 CDr00r00         [24] 1548 	call	_TranslateSprite
      000648 4F               [ 4] 1549 	ld	c, a
      000649 F8 08            [12] 1550 	ldhl	sp,	#8
                           00064B  1551 	C$SpriteHorse.c$230$2_3$242	= .
                                   1552 	.globl	C$SpriteHorse.c$230$2_3$242
                                   1553 ;SpriteHorse.c:230: if(horse_coll){//collido con tile ambiente di collisione
      00064B 79               [ 4] 1554 	ld	a,c
                           00064C  1555 	C$SpriteHorse.c$232$3_3$243	= .
                                   1556 	.globl	C$SpriteHorse.c$232$3_3$243
                                   1557 ;SpriteHorse.c:232: past_coll_tile = horse_coll;
      00064C 77               [ 8] 1558 	ld	(hl),a
      00064D B7               [ 4] 1559 	or	a,a
      00064E 28 4E            [12] 1560 	jr	Z, 00273$
      000650 EAr16r00         [16] 1561 	ld	(#_past_coll_tile),a
                           000653  1562 	C$SpriteHorse.c$233$3_4$244	= .
                                   1563 	.globl	C$SpriteHorse.c$233$3_4$244
                                   1564 ;SpriteHorse.c:233: INT8 vxbounce = vx * (-1); 
      000653 AF               [ 4] 1565 	xor	a, a
      000654 21r03r00         [12] 1566 	ld	hl, #_vx
      000657 96               [ 8] 1567 	sub	a, (hl)
      000658 47               [ 4] 1568 	ld	b, a
                           000659  1569 	C$SpriteHorse.c$234$3_4$244	= .
                                   1570 	.globl	C$SpriteHorse.c$234$3_4$244
                                   1571 ;SpriteHorse.c:234: INT8 vybounce = vy * (-1);
      000659 AF               [ 4] 1572 	xor	a, a
      00065A 21r02r00         [12] 1573 	ld	hl, #_vy
      00065D 96               [ 8] 1574 	sub	a, (hl)
      00065E 4F               [ 4] 1575 	ld	c, a
                           00065F  1576 	C$SpriteHorse.c$235$3_4$244	= .
                                   1577 	.globl	C$SpriteHorse.c$235$3_4$244
                                   1578 ;SpriteHorse.c:235: if(vx < 2){
      00065F FAr03r00         [16] 1579 	ld	a, (#_vx)
      000662 EE 80            [ 8] 1580 	xor	a, #0x80
      000664 D6 82            [ 8] 1581 	sub	a, #0x82
      000666 30 1B            [12] 1582 	jr	NC, 00230$
                           000668  1583 	C$SpriteHorse.c$236$4_4$245	= .
                                   1584 	.globl	C$SpriteHorse.c$236$4_4$245
                                   1585 ;SpriteHorse.c:236: TranslateSprite(THIS, vxbounce << delta_time, 0);
      000668 FAr00r00         [16] 1586 	ld	a, (#_delta_time)
      00066B 3C               [ 4] 1587 	inc	a
      00066C 18 02            [12] 1588 	jr	01029$
      00066E                       1589 01028$:
      00066E CB 20            [ 8] 1590 	sla	b
      000670                       1591 01029$:
      000670 3D               [ 4] 1592 	dec	a
      000671 20 FB            [12] 1593 	jr	NZ,01028$
      000673 AF               [ 4] 1594 	xor	a, a
      000674 F5               [16] 1595 	push	af
      000675 33               [ 8] 1596 	inc	sp
      000676 78               [ 4] 1597 	ld	a, b
      000677 21r00r00         [12] 1598 	ld	hl, #_THIS
      00067A 5E               [ 8] 1599 	ld	e, (hl)
      00067B 23               [ 8] 1600 	inc	hl
      00067C 56               [ 8] 1601 	ld	d, (hl)
      00067D CDr00r00         [24] 1602 	call	_TranslateSprite
      000680 C3r1Dr09         [16] 1603 	jp	00274$
      000683                       1604 00230$:
                           000683  1605 	C$SpriteHorse.c$238$4_4$246	= .
                                   1606 	.globl	C$SpriteHorse.c$238$4_4$246
                                   1607 ;SpriteHorse.c:238: TranslateSprite(THIS, 0, vybounce << delta_time);
      000683 21r00r00         [12] 1608 	ld	hl, #_delta_time
      000686 46               [ 8] 1609 	ld	b, (hl)
      000687 79               [ 4] 1610 	ld	a, c
      000688 04               [ 4] 1611 	inc	b
      000689 18 01            [12] 1612 	jr	01031$
      00068B                       1613 01030$:
      00068B 87               [ 4] 1614 	add	a, a
      00068C                       1615 01031$:
      00068C 05               [ 4] 1616 	dec	b
      00068D 20 FC            [12] 1617 	jr	NZ,01030$
      00068F F5               [16] 1618 	push	af
      000690 33               [ 8] 1619 	inc	sp
      000691 AF               [ 4] 1620 	xor	a, a
      000692 21r00r00         [12] 1621 	ld	hl, #_THIS
      000695 5E               [ 8] 1622 	ld	e, (hl)
      000696 23               [ 8] 1623 	inc	hl
      000697 56               [ 8] 1624 	ld	d, (hl)
      000698 CDr00r00         [24] 1625 	call	_TranslateSprite
      00069B C3r1Dr09         [16] 1626 	jp	00274$
      00069E                       1627 00273$:
                           00069E  1628 	C$SpriteHorse.c$124$2_3$193	= .
                                   1629 	.globl	C$SpriteHorse.c$124$2_3$193
                                   1630 ;SpriteHorse.c:124: s_flame->x = THIS->x +2;
      00069E 21r00r00         [12] 1631 	ld	hl, #_THIS
      0006A1 2A               [ 8] 1632 	ld	a, (hl+)
      0006A2 4F               [ 4] 1633 	ld	c, a
      0006A3 46               [ 8] 1634 	ld	b, (hl)
                           0006A4  1635 	C$SpriteHorse.c$242$3_3$247	= .
                                   1636 	.globl	C$SpriteHorse.c$242$3_3$247
                                   1637 ;SpriteHorse.c:242: UINT8 tile_over = GetScrollTile((THIS->x + 16) >> 3, (THIS->y+4) >> 3);
      0006A4 21 0E 00         [12] 1638 	ld	hl, #0x000e
      0006A7 09               [ 8] 1639 	add	hl, bc
      0006A8 2A               [ 8] 1640 	ld	a, (hl+)
      0006A9 6E               [ 8] 1641 	ld	l, (hl)
                                   1642 ;	spillPairReg hl
      0006AA C6 04            [ 8] 1643 	add	a, #0x04
      0006AC 5F               [ 4] 1644 	ld	e, a
      0006AD 7D               [ 4] 1645 	ld	a, l
      0006AE CE 00            [ 8] 1646 	adc	a, #0x00
      0006B0 57               [ 4] 1647 	ld	d, a
      0006B1 F8 07            [12] 1648 	ldhl	sp,	#7
      0006B3 73               [ 8] 1649 	ld	(hl), e
      0006B4 23               [ 8] 1650 	inc	hl
      0006B5 72               [ 8] 1651 	ld	(hl), d
      0006B6 CB 3E            [16] 1652 	srl	(hl)
      0006B8 2B               [ 8] 1653 	dec	hl
      0006B9 CB 1E            [16] 1654 	rr	(hl)
      0006BB 23               [ 8] 1655 	inc	hl
      0006BC CB 3E            [16] 1656 	srl	(hl)
      0006BE 2B               [ 8] 1657 	dec	hl
      0006BF CB 1E            [16] 1658 	rr	(hl)
      0006C1 23               [ 8] 1659 	inc	hl
      0006C2 CB 3E            [16] 1660 	srl	(hl)
      0006C4 2B               [ 8] 1661 	dec	hl
      0006C5 CB 1E            [16] 1662 	rr	(hl)
      0006C7 21 0C 00         [12] 1663 	ld	hl, #0x000c
      0006CA 09               [ 8] 1664 	add	hl, bc
      0006CB 4E               [ 8] 1665 	ld	c, (hl)
      0006CC 23               [ 8] 1666 	inc	hl
      0006CD 46               [ 8] 1667 	ld	b, (hl)
      0006CE 21 10 00         [12] 1668 	ld	hl, #0x0010
      0006D1 09               [ 8] 1669 	add	hl, bc
      0006D2 5D               [ 4] 1670 	ld	e, l
      0006D3 54               [ 4] 1671 	ld	d, h
      0006D4 CB 3A            [ 8] 1672 	srl	d
      0006D6 CB 1B            [ 8] 1673 	rr	e
      0006D8 CB 3A            [ 8] 1674 	srl	d
      0006DA CB 1B            [ 8] 1675 	rr	e
      0006DC CB 3A            [ 8] 1676 	srl	d
      0006DE CB 1B            [ 8] 1677 	rr	e
      0006E0 F8 07            [12] 1678 	ldhl	sp,	#7
      0006E2 4E               [ 8] 1679 	ld	c, (hl)
      0006E3 23               [ 8] 1680 	inc	hl
      0006E4 46               [ 8] 1681 	ld	b, (hl)
      0006E5 CDr00r00         [24] 1682 	call	_GetScrollTile
      0006E8 F8 00            [12] 1683 	ldhl	sp,	#0
      0006EA 77               [ 8] 1684 	ld	(hl), a
                           0006EB  1685 	C$SpriteHorse.c$124$2_3$193	= .
                                   1686 	.globl	C$SpriteHorse.c$124$2_3$193
                                   1687 ;SpriteHorse.c:124: s_flame->x = THIS->x +2;
      0006EB 21r00r00         [12] 1688 	ld	hl, #_THIS
      0006EE 2A               [ 8] 1689 	ld	a, (hl+)
      0006EF 4F               [ 4] 1690 	ld	c, a
      0006F0 46               [ 8] 1691 	ld	b, (hl)
                           0006F1  1692 	C$SpriteHorse.c$246$2_3$193	= .
                                   1693 	.globl	C$SpriteHorse.c$246$2_3$193
                                   1694 ;SpriteHorse.c:246: if(onfire_countdown == -1){//non sta impazzendo
      0006F1 21r19r00         [12] 1695 	ld	hl, #_onfire_countdown
      0006F4 7E               [ 8] 1696 	ld	a, (hl)
      0006F5 3C               [ 4] 1697 	inc	a
      0006F6 20 07            [12] 1698 	jr	NZ, 01032$
      0006F8 23               [ 8] 1699 	inc	hl
      0006F9 7E               [ 8] 1700 	ld	a, (hl)
      0006FA 3C               [ 4] 1701 	inc	a
      0006FB 3E 01            [ 8] 1702 	ld	a, #0x01
      0006FD 28 01            [12] 1703 	jr	Z, 01033$
      0006FF                       1704 01032$:
      0006FF AF               [ 4] 1705 	xor	a, a
      000700                       1706 01033$:
      000700 F8 01            [12] 1707 	ldhl	sp,	#1
      000702 77               [ 8] 1708 	ld	(hl), a
                           000703  1709 	C$SpriteHorse.c$253$2_3$193	= .
                                   1710 	.globl	C$SpriteHorse.c$253$2_3$193
                                   1711 ;SpriteHorse.c:253: if(vx > 0){
      000703 21r03r00         [12] 1712 	ld	hl, #_vx
      000706 5E               [ 8] 1713 	ld	e, (hl)
      000707 AF               [ 4] 1714 	xor	a, a
      000708 57               [ 4] 1715 	ld	d, a
      000709 96               [ 8] 1716 	sub	a, (hl)
      00070A CB 7B            [ 8] 1717 	bit	7, e
      00070C 28 07            [12] 1718 	jr	Z, 01034$
      00070E CB 7A            [ 8] 1719 	bit	7, d
      000710 20 08            [12] 1720 	jr	NZ, 01035$
      000712 BF               [ 4] 1721 	cp	a, a
      000713 18 05            [12] 1722 	jr	01035$
      000715                       1723 01034$:
      000715 CB 7A            [ 8] 1724 	bit	7, d
      000717 28 01            [12] 1725 	jr	Z, 01035$
      000719 37               [ 4] 1726 	scf
      00071A                       1727 01035$:
      00071A 3E 00            [ 8] 1728 	ld	a, #0x00
      00071C 17               [ 4] 1729 	rla
      00071D F8 02            [12] 1730 	ldhl	sp,	#2
      00071F 77               [ 8] 1731 	ld	(hl), a
                           000720  1732 	C$SpriteHorse.c$242$2_3$193	= .
                                   1733 	.globl	C$SpriteHorse.c$242$2_3$193
                                   1734 ;SpriteHorse.c:242: UINT8 tile_over = GetScrollTile((THIS->x + 16) >> 3, (THIS->y+4) >> 3);
      000720 21 0E 00         [12] 1735 	ld	hl, #0x000e
      000723 09               [ 8] 1736 	add	hl, bc
      000724 E5               [16] 1737 	push	hl
      000725 7D               [ 4] 1738 	ld	a, l
      000726 F8 05            [12] 1739 	ldhl	sp,	#5
      000728 77               [ 8] 1740 	ld	(hl), a
      000729 E1               [12] 1741 	pop	hl
      00072A 7C               [ 4] 1742 	ld	a, h
      00072B F8 04            [12] 1743 	ldhl	sp,	#4
      00072D 77               [ 8] 1744 	ld	(hl), a
      00072E 21 0C 00         [12] 1745 	ld	hl, #0x000c
      000731 09               [ 8] 1746 	add	hl, bc
      000732 E5               [16] 1747 	push	hl
      000733 7D               [ 4] 1748 	ld	a, l
      000734 F8 07            [12] 1749 	ldhl	sp,	#7
      000736 77               [ 8] 1750 	ld	(hl), a
      000737 E1               [12] 1751 	pop	hl
      000738 7C               [ 4] 1752 	ld	a, h
      000739 F8 06            [12] 1753 	ldhl	sp,	#6
      00073B 77               [ 8] 1754 	ld	(hl), a
                           00073C  1755 	C$SpriteHorse.c$249$2_3$193	= .
                                   1756 	.globl	C$SpriteHorse.c$249$2_3$193
                                   1757 ;SpriteHorse.c:249: if(THIS->anim_frame == 1 || THIS->anim_frame == 5){
      00073C 21 09 00         [12] 1758 	ld	hl, #0x0009
      00073F 09               [ 8] 1759 	add	hl, bc
      000740 E5               [16] 1760 	push	hl
      000741 7D               [ 4] 1761 	ld	a, l
      000742 F8 09            [12] 1762 	ldhl	sp,	#9
      000744 77               [ 8] 1763 	ld	(hl), a
      000745 E1               [12] 1764 	pop	hl
      000746 7C               [ 4] 1765 	ld	a, h
      000747 F8 08            [12] 1766 	ldhl	sp,	#8
      000749 77               [ 8] 1767 	ld	(hl), a
                           00074A  1768 	C$SpriteHorse.c$243$3_3$247	= .
                                   1769 	.globl	C$SpriteHorse.c$243$3_3$247
                                   1770 ;SpriteHorse.c:243: switch(tile_over){
      00074A F8 00            [12] 1771 	ldhl	sp,	#0
      00074C 7E               [ 8] 1772 	ld	a, (hl)
      00074D D6 03            [ 8] 1773 	sub	a, #0x03
      00074F 28 33            [12] 1774 	jr	Z, 00232$
      000751 F8 00            [12] 1775 	ldhl	sp,	#0
      000753 7E               [ 8] 1776 	ld	a, (hl)
      000754 D6 08            [ 8] 1777 	sub	a, #0x08
      000756 CAr35r08         [16] 1778 	jp	Z,00251$
      000759 F8 00            [12] 1779 	ldhl	sp,	#0
      00075B 7E               [ 8] 1780 	ld	a, (hl)
      00075C D6 09            [ 8] 1781 	sub	a, #0x09
      00075E CAr35r08         [16] 1782 	jp	Z,00251$
      000761 F8 00            [12] 1783 	ldhl	sp,	#0
      000763 7E               [ 8] 1784 	ld	a, (hl)
      000764 D6 0A            [ 8] 1785 	sub	a, #0x0a
      000766 CAr35r08         [16] 1786 	jp	Z,00251$
      000769 F8 00            [12] 1787 	ldhl	sp,	#0
      00076B 7E               [ 8] 1788 	ld	a, (hl)
      00076C D6 0B            [ 8] 1789 	sub	a, #0x0b
      00076E CAr35r08         [16] 1790 	jp	Z,00251$
      000771 F8 00            [12] 1791 	ldhl	sp,	#0
      000773 7E               [ 8] 1792 	ld	a, (hl)
      000774 D6 0C            [ 8] 1793 	sub	a, #0x0c
      000776 CAr35r08         [16] 1794 	jp	Z,00251$
      000779 F8 00            [12] 1795 	ldhl	sp,	#0
      00077B 7E               [ 8] 1796 	ld	a, (hl)
      00077C D6 0D            [ 8] 1797 	sub	a, #0x0d
      00077E CAr35r08         [16] 1798 	jp	Z,00251$
      000781 C3r11r09         [16] 1799 	jp	00268$
                           000784  1800 	C$SpriteHorse.c$244$4_3$248	= .
                                   1801 	.globl	C$SpriteHorse.c$244$4_3$248
                                   1802 ;SpriteHorse.c:244: case 3: //ghiaia: incrementa il frameskip
      000784                       1803 00232$:
                           000784  1804 	C$SpriteHorse.c$246$4_3$248	= .
                                   1805 	.globl	C$SpriteHorse.c$246$4_3$248
                                   1806 ;SpriteHorse.c:246: if(onfire_countdown == -1){//non sta impazzendo
      000784 F8 01            [12] 1807 	ldhl	sp,	#1
      000786 7E               [ 8] 1808 	ld	a, (hl)
      000787 B7               [ 4] 1809 	or	a, a
      000788 28 07            [12] 1810 	jr	Z, 00234$
                           00078A  1811 	C$SpriteHorse.c$247$5_3$249	= .
                                   1812 	.globl	C$SpriteHorse.c$247$5_3$249
                                   1813 ;SpriteHorse.c:247: frm_skip+=4;
      00078A 21r04r00         [12] 1814 	ld	hl, #_frm_skip
      00078D 34               [12] 1815 	inc	(hl)
      00078E 34               [12] 1816 	inc	(hl)
      00078F 34               [12] 1817 	inc	(hl)
      000790 34               [12] 1818 	inc	(hl)
      000791                       1819 00234$:
                           000791  1820 	C$SpriteHorse.c$249$2_3$193	= .
                                   1821 	.globl	C$SpriteHorse.c$249$2_3$193
                                   1822 ;SpriteHorse.c:249: if(THIS->anim_frame == 1 || THIS->anim_frame == 5){
      000791 F8 07            [12] 1823 	ldhl	sp,#7
      000793 2A               [ 8] 1824 	ld	a, (hl+)
      000794 5F               [ 4] 1825 	ld	e, a
      000795 56               [ 8] 1826 	ld	d, (hl)
      000796 1A               [ 8] 1827 	ld	a, (de)
      000797 FE 01            [ 8] 1828 	cp	a, #0x01
      000799 28 05            [12] 1829 	jr	Z, 00242$
      00079B D6 05            [ 8] 1830 	sub	a, #0x05
      00079D C2r2Dr08         [16] 1831 	jp	NZ,00243$
      0007A0                       1832 00242$:
                           0007A0  1833 	C$SpriteHorse.c$250$5_3$250	= .
                                   1834 	.globl	C$SpriteHorse.c$250$5_3$250
                                   1835 ;SpriteHorse.c:250: if(orme_spawned == 0){
      0007A0 FAr18r00         [16] 1836 	ld	a, (#_orme_spawned)
      0007A3 B7               [ 4] 1837 	or	a, a
      0007A4 C2r1Dr09         [16] 1838 	jp	NZ, 00274$
                           0007A7  1839 	C$SpriteHorse.c$251$6_3$251	= .
                                   1840 	.globl	C$SpriteHorse.c$251$6_3$251
                                   1841 ;SpriteHorse.c:251: UINT16 orma_posy = THIS->y-9;
      0007A7 F8 03            [12] 1842 	ldhl	sp,#3
      0007A9 2A               [ 8] 1843 	ld	a, (hl+)
      0007AA 5F               [ 4] 1844 	ld	e, a
      0007AB 56               [ 8] 1845 	ld	d, (hl)
      0007AC 1A               [ 8] 1846 	ld	a, (de)
      0007AD 4F               [ 4] 1847 	ld	c, a
      0007AE 13               [ 8] 1848 	inc	de
      0007AF 1A               [ 8] 1849 	ld	a, (de)
      0007B0 47               [ 4] 1850 	ld	b, a
      0007B1 79               [ 4] 1851 	ld	a, c
      0007B2 C6 F7            [ 8] 1852 	add	a, #0xf7
      0007B4 4F               [ 4] 1853 	ld	c, a
      0007B5 78               [ 4] 1854 	ld	a, b
      0007B6 CE FF            [ 8] 1855 	adc	a, #0xff
      0007B8 47               [ 4] 1856 	ld	b, a
                           0007B9  1857 	C$SpriteHorse.c$252$6_3$251	= .
                                   1858 	.globl	C$SpriteHorse.c$252$6_3$251
                                   1859 ;SpriteHorse.c:252: orme_spawned = 1;
      0007B9 21r18r00         [12] 1860 	ld	hl, #_orme_spawned
      0007BC 36 01            [12] 1861 	ld	(hl), #0x01
                           0007BE  1862 	C$SpriteHorse.c$253$6_3$251	= .
                                   1863 	.globl	C$SpriteHorse.c$253$6_3$251
                                   1864 ;SpriteHorse.c:253: if(vx > 0){
      0007BE F8 02            [12] 1865 	ldhl	sp,	#2
      0007C0 7E               [ 8] 1866 	ld	a, (hl)
      0007C1 B7               [ 4] 1867 	or	a, a
      0007C2 28 31            [12] 1868 	jr	Z, 00238$
                           0007C4  1869 	C$SpriteHorse.c$254$7_3$252	= .
                                   1870 	.globl	C$SpriteHorse.c$254$7_3$252
                                   1871 ;SpriteHorse.c:254: SpriteManagerAdd(SpriteStep, THIS->x - 2, orma_posy);
      0007C4 F8 05            [12] 1872 	ldhl	sp,#5
      0007C6 2A               [ 8] 1873 	ld	a, (hl+)
      0007C7 5F               [ 4] 1874 	ld	e, a
      0007C8 56               [ 8] 1875 	ld	d, (hl)
      0007C9 1A               [ 8] 1876 	ld	a, (de)
      0007CA 6F               [ 4] 1877 	ld	l, a
                                   1878 ;	spillPairReg hl
                                   1879 ;	spillPairReg hl
      0007CB 13               [ 8] 1880 	inc	de
      0007CC 1A               [ 8] 1881 	ld	a, (de)
      0007CD 5D               [ 4] 1882 	ld	e, l
      0007CE 57               [ 4] 1883 	ld	d, a
      0007CF 1B               [ 8] 1884 	dec	de
      0007D0 1B               [ 8] 1885 	dec	de
      0007D1 C5               [16] 1886 	push	bc
      0007D2 C5               [16] 1887 	push	bc
      0007D3 3E 02            [ 8] 1888 	ld	a, #0x02
      0007D5 CDr00r00         [24] 1889 	call	_SpriteManagerAdd
      0007D8 C1               [12] 1890 	pop	bc
                           0007D9  1891 	C$SpriteHorse.c$255$7_3$252	= .
                                   1892 	.globl	C$SpriteHorse.c$255$7_3$252
                                   1893 ;SpriteHorse.c:255: SpriteManagerAdd(SpriteStep, THIS->x + 8, orma_posy);
      0007D9 21r00r00         [12] 1894 	ld	hl, #_THIS
      0007DC 2A               [ 8] 1895 	ld	a, (hl+)
      0007DD 5F               [ 4] 1896 	ld	e, a
      0007DE 56               [ 8] 1897 	ld	d, (hl)
      0007DF 21 0C 00         [12] 1898 	ld	hl, #0x000c
      0007E2 19               [ 8] 1899 	add	hl, de
      0007E3 2A               [ 8] 1900 	ld	a, (hl+)
      0007E4 6E               [ 8] 1901 	ld	l, (hl)
                                   1902 ;	spillPairReg hl
      0007E5 C6 08            [ 8] 1903 	add	a, #0x08
      0007E7 5F               [ 4] 1904 	ld	e, a
      0007E8 7D               [ 4] 1905 	ld	a, l
      0007E9 CE 00            [ 8] 1906 	adc	a, #0x00
      0007EB 57               [ 4] 1907 	ld	d, a
      0007EC C5               [16] 1908 	push	bc
      0007ED 3E 02            [ 8] 1909 	ld	a, #0x02
      0007EF CDr00r00         [24] 1910 	call	_SpriteManagerAdd
      0007F2 C3r1Dr09         [16] 1911 	jp	00274$
      0007F5                       1912 00238$:
                           0007F5  1913 	C$SpriteHorse.c$256$6_3$251	= .
                                   1914 	.globl	C$SpriteHorse.c$256$6_3$251
                                   1915 ;SpriteHorse.c:256: }else if(vx < 0){
      0007F5 FAr03r00         [16] 1916 	ld	a, (#_vx)
      0007F8 CB 7F            [ 8] 1917 	bit	7, a
      0007FA CAr1Dr09         [16] 1918 	jp	Z, 00274$
                           0007FD  1919 	C$SpriteHorse.c$257$7_3$253	= .
                                   1920 	.globl	C$SpriteHorse.c$257$7_3$253
                                   1921 ;SpriteHorse.c:257: SpriteManagerAdd(SpriteStep, THIS->x, orma_posy);
      0007FD F8 05            [12] 1922 	ldhl	sp,#5
      0007FF 2A               [ 8] 1923 	ld	a, (hl+)
      000800 5F               [ 4] 1924 	ld	e, a
      000801 56               [ 8] 1925 	ld	d, (hl)
      000802 1A               [ 8] 1926 	ld	a, (de)
      000803 6F               [ 4] 1927 	ld	l, a
                                   1928 ;	spillPairReg hl
                                   1929 ;	spillPairReg hl
      000804 13               [ 8] 1930 	inc	de
      000805 1A               [ 8] 1931 	ld	a, (de)
      000806 67               [ 4] 1932 	ld	h, a
                                   1933 ;	spillPairReg hl
                                   1934 ;	spillPairReg hl
      000807 C5               [16] 1935 	push	bc
      000808 C5               [16] 1936 	push	bc
      000809 5D               [ 4] 1937 	ld	e, l
      00080A 54               [ 4] 1938 	ld	d, h
      00080B 3E 02            [ 8] 1939 	ld	a, #0x02
      00080D CDr00r00         [24] 1940 	call	_SpriteManagerAdd
      000810 C1               [12] 1941 	pop	bc
                           000811  1942 	C$SpriteHorse.c$258$7_3$253	= .
                                   1943 	.globl	C$SpriteHorse.c$258$7_3$253
                                   1944 ;SpriteHorse.c:258: SpriteManagerAdd(SpriteStep, THIS->x + 8, orma_posy);
      000811 21r00r00         [12] 1945 	ld	hl, #_THIS
      000814 2A               [ 8] 1946 	ld	a, (hl+)
      000815 5F               [ 4] 1947 	ld	e, a
      000816 56               [ 8] 1948 	ld	d, (hl)
      000817 21 0C 00         [12] 1949 	ld	hl, #0x000c
      00081A 19               [ 8] 1950 	add	hl, de
      00081B 2A               [ 8] 1951 	ld	a, (hl+)
      00081C 6E               [ 8] 1952 	ld	l, (hl)
                                   1953 ;	spillPairReg hl
      00081D C6 08            [ 8] 1954 	add	a, #0x08
      00081F 5F               [ 4] 1955 	ld	e, a
      000820 7D               [ 4] 1956 	ld	a, l
      000821 CE 00            [ 8] 1957 	adc	a, #0x00
      000823 57               [ 4] 1958 	ld	d, a
      000824 C5               [16] 1959 	push	bc
      000825 3E 02            [ 8] 1960 	ld	a, #0x02
      000827 CDr00r00         [24] 1961 	call	_SpriteManagerAdd
      00082A C3r1Dr09         [16] 1962 	jp	00274$
      00082D                       1963 00243$:
                           00082D  1964 	C$SpriteHorse.c$261$5_3$254	= .
                                   1965 	.globl	C$SpriteHorse.c$261$5_3$254
                                   1966 ;SpriteHorse.c:261: }else{orme_spawned = 0;}
      00082D 21r18r00         [12] 1967 	ld	hl, #_orme_spawned
      000830 36 00            [12] 1968 	ld	(hl), #0x00
                           000832  1969 	C$SpriteHorse.c$262$4_3$248	= .
                                   1970 	.globl	C$SpriteHorse.c$262$4_3$248
                                   1971 ;SpriteHorse.c:262: break;
      000832 C3r1Dr09         [16] 1972 	jp	00274$
                           000835  1973 	C$SpriteHorse.c$264$4_3$248	= .
                                   1974 	.globl	C$SpriteHorse.c$264$4_3$248
                                   1975 ;SpriteHorse.c:264: case 11: case 12: case 13: //acqua: simula pantano limitando stamina
      000835                       1976 00251$:
                           000835  1977 	C$SpriteHorse.c$265$4_3$248	= .
                                   1978 	.globl	C$SpriteHorse.c$265$4_3$248
                                   1979 ;SpriteHorse.c:265: if(onfire_countdown > 0){//sono onfire!
      000835 21r19r00         [12] 1980 	ld	hl, #_onfire_countdown
      000838 AF               [ 4] 1981 	xor	a, a
      000839 96               [ 8] 1982 	sub	a, (hl)
      00083A 23               [ 8] 1983 	inc	hl
      00083B 3E 00            [ 8] 1984 	ld	a, #0x00
      00083D 9E               [ 8] 1985 	sbc	a, (hl)
      00083E 3E 00            [ 8] 1986 	ld	a, #0x00
      000840 57               [ 4] 1987 	ld	d, a
      000841 CB 7E            [12] 1988 	bit	7, (hl)
      000843 28 07            [12] 1989 	jr	Z, 01046$
      000845 CB 7A            [ 8] 1990 	bit	7, d
      000847 20 08            [12] 1991 	jr	NZ, 01047$
      000849 BF               [ 4] 1992 	cp	a, a
      00084A 18 05            [12] 1993 	jr	01047$
      00084C                       1994 01046$:
      00084C CB 7A            [ 8] 1995 	bit	7, d
      00084E 28 01            [12] 1996 	jr	Z, 01047$
      000850 37               [ 4] 1997 	scf
      000851                       1998 01047$:
      000851 30 08            [12] 1999 	jr	NC, 00257$
                           000853  2000 	C$SpriteHorse.c$266$5_3$255	= .
                                   2001 	.globl	C$SpriteHorse.c$266$5_3$255
                                   2002 ;SpriteHorse.c:266: onfire_countdown = 0;
      000853 AF               [ 4] 2003 	xor	a, a
      000854 21r19r00         [12] 2004 	ld	hl, #_onfire_countdown
      000857 22               [ 8] 2005 	ld	(hl+), a
      000858 77               [ 8] 2006 	ld	(hl), a
      000859 18 30            [12] 2007 	jr	00258$
      00085B                       2008 00257$:
                           00085B  2009 	C$SpriteHorse.c$267$4_3$248	= .
                                   2010 	.globl	C$SpriteHorse.c$267$4_3$248
                                   2011 ;SpriteHorse.c:267: }else if(onfire_countdown == -1){
      00085B F8 01            [12] 2012 	ldhl	sp,	#1
      00085D 7E               [ 8] 2013 	ld	a, (hl)
      00085E B7               [ 4] 2014 	or	a, a
      00085F 28 2A            [12] 2015 	jr	Z, 00258$
                           000861  2016 	C$SpriteHorse.c$268$5_3$256	= .
                                   2017 	.globl	C$SpriteHorse.c$268$5_3$256
                                   2018 ;SpriteHorse.c:268: if(stamina_current > (euphoria_min >> 1)){
      000861 FAr08r00         [16] 2019 	ld	a, (#_euphoria_min)
      000864 F8 00            [12] 2020 	ldhl	sp,	#0
      000866 77               [ 8] 2021 	ld	(hl), a
      000867 FAr09r00         [16] 2022 	ld	a, (#_euphoria_min + 1)
      00086A F8 01            [12] 2023 	ldhl	sp,	#1
      00086C 77               [ 8] 2024 	ld	(hl), a
      00086D CB 3E            [16] 2025 	srl	(hl)
      00086F 2B               [ 8] 2026 	dec	hl
      000870 CB 1E            [16] 2027 	rr	(hl)
      000872 21r0Cr00         [12] 2028 	ld	hl, #_stamina_current
      000875 2A               [ 8] 2029 	ld	a, (hl+)
      000876 4F               [ 4] 2030 	ld	c, a
      000877 46               [ 8] 2031 	ld	b, (hl)
      000878 F8 00            [12] 2032 	ldhl	sp,	#0
      00087A 2A               [ 8] 2033 	ld	a, (hl+)
      00087B 91               [ 4] 2034 	sub	a, c
      00087C 7E               [ 8] 2035 	ld	a, (hl)
      00087D 98               [ 4] 2036 	sbc	a, b
      00087E 30 0B            [12] 2037 	jr	NC, 00258$
                           000880  2038 	C$SpriteHorse.c$269$6_3$257	= .
                                   2039 	.globl	C$SpriteHorse.c$269$6_3$257
                                   2040 ;SpriteHorse.c:269: stamina_current = (euphoria_min >> 1);
      000880 2B               [ 8] 2041 	dec	hl
      000881 7E               [ 8] 2042 	ld	a, (hl)
      000882 EAr0Cr00         [16] 2043 	ld	(#_stamina_current),a
      000885 F8 01            [12] 2044 	ldhl	sp,	#1
      000887 7E               [ 8] 2045 	ld	a, (hl)
      000888 EAr0Dr00         [16] 2046 	ld	(#_stamina_current + 1),a
      00088B                       2047 00258$:
                           00088B  2048 	C$SpriteHorse.c$249$2_3$193	= .
                                   2049 	.globl	C$SpriteHorse.c$249$2_3$193
                                   2050 ;SpriteHorse.c:249: if(THIS->anim_frame == 1 || THIS->anim_frame == 5){
      00088B F8 07            [12] 2051 	ldhl	sp,#7
      00088D 2A               [ 8] 2052 	ld	a, (hl+)
      00088E 5F               [ 4] 2053 	ld	e, a
      00088F 56               [ 8] 2054 	ld	d, (hl)
      000890 1A               [ 8] 2055 	ld	a, (de)
                           000891  2056 	C$SpriteHorse.c$272$4_3$248	= .
                                   2057 	.globl	C$SpriteHorse.c$272$4_3$248
                                   2058 ;SpriteHorse.c:272: if(THIS->anim_frame == 0 || THIS->anim_frame == 2 || THIS->anim_frame == 4){
      000891 B7               [ 4] 2059 	or	a, a
      000892 28 08            [12] 2060 	jr	Z, 00263$
      000894 FE 02            [ 8] 2061 	cp	a, #0x02
      000896 28 04            [12] 2062 	jr	Z, 00263$
      000898 D6 04            [ 8] 2063 	sub	a, #0x04
      00089A 20 6E            [12] 2064 	jr	NZ, 00264$
      00089C                       2065 00263$:
                           00089C  2066 	C$SpriteHorse.c$273$5_3$258	= .
                                   2067 	.globl	C$SpriteHorse.c$273$5_3$258
                                   2068 ;SpriteHorse.c:273: if(orme_spawned == 0){
      00089C 21r18r00         [12] 2069 	ld	hl, #_orme_spawned
      00089F 7E               [ 8] 2070 	ld	a, (hl)
      0008A0 B7               [ 4] 2071 	or	a, a
      0008A1 20 7A            [12] 2072 	jr	NZ, 00274$
                           0008A3  2073 	C$SpriteHorse.c$274$6_3$259	= .
                                   2074 	.globl	C$SpriteHorse.c$274$6_3$259
                                   2075 ;SpriteHorse.c:274: orme_spawned = 1;
      0008A3 36 01            [12] 2076 	ld	(hl), #0x01
                           0008A5  2077 	C$SpriteHorse.c$254$2_3$193	= .
                                   2078 	.globl	C$SpriteHorse.c$254$2_3$193
                                   2079 ;SpriteHorse.c:254: SpriteManagerAdd(SpriteStep, THIS->x - 2, orma_posy);
      0008A5 F8 05            [12] 2080 	ldhl	sp,#5
      0008A7 2A               [ 8] 2081 	ld	a, (hl+)
      0008A8 5F               [ 4] 2082 	ld	e, a
                           0008A9  2083 	C$SpriteHorse.c$275$6_4$260	= .
                                   2084 	.globl	C$SpriteHorse.c$275$6_4$260
                                   2085 ;SpriteHorse.c:275: UINT16 orma0_posx = THIS->x - 2;
      0008A9 2A               [ 8] 2086 	ld	a, (hl+)
      0008AA 23               [ 8] 2087 	inc	hl
      0008AB 57               [ 4] 2088 	ld	d, a
      0008AC 1A               [ 8] 2089 	ld	a, (de)
      0008AD 4F               [ 4] 2090 	ld	c, a
      0008AE 13               [ 8] 2091 	inc	de
      0008AF 1A               [ 8] 2092 	ld	a, (de)
      0008B0 47               [ 4] 2093 	ld	b, a
      0008B1 11 02 00         [12] 2094 	ld	de, #0x0002
      0008B4 79               [ 4] 2095 	ld	a, c
      0008B5 93               [ 4] 2096 	sub	a, e
      0008B6 5F               [ 4] 2097 	ld	e, a
      0008B7 78               [ 4] 2098 	ld	a, b
      0008B8 9A               [ 4] 2099 	sbc	a, d
      0008B9 32               [ 8] 2100 	ld	(hl-), a
      0008BA 73               [ 8] 2101 	ld	(hl), e
                           0008BB  2102 	C$SpriteHorse.c$276$6_4$260	= .
                                   2103 	.globl	C$SpriteHorse.c$276$6_4$260
                                   2104 ;SpriteHorse.c:276: UINT16 orma_posy = THIS->y-9;
      0008BB F8 03            [12] 2105 	ldhl	sp,#3
      0008BD 2A               [ 8] 2106 	ld	a, (hl+)
      0008BE 5F               [ 4] 2107 	ld	e, a
      0008BF 56               [ 8] 2108 	ld	d, (hl)
      0008C0 1A               [ 8] 2109 	ld	a, (de)
      0008C1 6F               [ 4] 2110 	ld	l, a
                                   2111 ;	spillPairReg hl
                                   2112 ;	spillPairReg hl
      0008C2 13               [ 8] 2113 	inc	de
      0008C3 1A               [ 8] 2114 	ld	a, (de)
      0008C4 67               [ 4] 2115 	ld	h, a
                                   2116 ;	spillPairReg hl
                                   2117 ;	spillPairReg hl
      0008C5 11 F7 FF         [12] 2118 	ld	de, #0xfff7
      0008C8 19               [ 8] 2119 	add	hl, de
      0008C9 5D               [ 4] 2120 	ld	e, l
      0008CA 54               [ 4] 2121 	ld	d, h
                           0008CB  2122 	C$SpriteHorse.c$277$6_4$260	= .
                                   2123 	.globl	C$SpriteHorse.c$277$6_4$260
                                   2124 ;SpriteHorse.c:277: UINT16 orma1_posx = THIS->x + 8;
      0008CB 21 08 00         [12] 2125 	ld	hl, #0x0008
      0008CE 09               [ 8] 2126 	add	hl, bc
      0008CF E5               [16] 2127 	push	hl
      0008D0 7D               [ 4] 2128 	ld	a, l
      0008D1 F8 07            [12] 2129 	ldhl	sp,	#7
      0008D3 77               [ 8] 2130 	ld	(hl), a
      0008D4 E1               [12] 2131 	pop	hl
      0008D5 7C               [ 4] 2132 	ld	a, h
      0008D6 F8 06            [12] 2133 	ldhl	sp,	#6
      0008D8 77               [ 8] 2134 	ld	(hl), a
                           0008D9  2135 	C$SpriteHorse.c$278$6_4$260	= .
                                   2136 	.globl	C$SpriteHorse.c$278$6_4$260
                                   2137 ;SpriteHorse.c:278: if(vx <= 0){
      0008D9 F8 02            [12] 2138 	ldhl	sp,	#2
                                   2139 ;	spillPairReg hl
                                   2140 ;	spillPairReg hl
      0008DB CB 46            [12] 2141 	bit	0, (hl)
      0008DD 20 05            [12] 2142 	jr	NZ, 00260$
                           0008DF  2143 	C$SpriteHorse.c$279$7_4$261	= .
                                   2144 	.globl	C$SpriteHorse.c$279$7_4$261
                                   2145 ;SpriteHorse.c:279: orma0_posx = THIS->x;
      0008DF F8 07            [12] 2146 	ldhl	sp,	#7
      0008E1 79               [ 4] 2147 	ld	a, c
      0008E2 22               [ 8] 2148 	ld	(hl+), a
      0008E3 70               [ 8] 2149 	ld	(hl), b
      0008E4                       2150 00260$:
                           0008E4  2151 	C$SpriteHorse.c$281$6_5$262	= .
                                   2152 	.globl	C$SpriteHorse.c$281$6_5$262
                                   2153 ;SpriteHorse.c:281: Sprite* s_orma0 = SpriteManagerAdd(SpriteStep, orma0_posx, orma_posy);
      0008E4 D5               [16] 2154 	push	de
      0008E5 D5               [16] 2155 	push	de
      0008E6 F8 0B            [12] 2156 	ldhl	sp,	#11
      0008E8 2A               [ 8] 2157 	ld	a, (hl+)
      0008E9 5F               [ 4] 2158 	ld	e, a
      0008EA 56               [ 8] 2159 	ld	d, (hl)
      0008EB 3E 02            [ 8] 2160 	ld	a, #0x02
      0008ED CDr00r00         [24] 2161 	call	_SpriteManagerAdd
      0008F0 D1               [12] 2162 	pop	de
                           0008F1  2163 	C$SpriteHorse.c$282$6_5$262	= .
                                   2164 	.globl	C$SpriteHorse.c$282$6_5$262
                                   2165 ;SpriteHorse.c:282: struct ItemData* orma0_data = (struct ItemData*)s_orma0->custom_data;
                           0008F1  2166 	C$SpriteHorse.c$283$6_5$262	= .
                                   2167 	.globl	C$SpriteHorse.c$283$6_5$262
                                   2168 ;SpriteHorse.c:283: orma0_data->configured = 1;
      0008F1 21 1E 00         [12] 2169 	ld	hl,#0x1e
      0008F4 09               [ 8] 2170 	add	hl,bc
      0008F5 36 01            [12] 2171 	ld	(hl), #0x01
                           0008F7  2172 	C$SpriteHorse.c$284$6_6$263	= .
                                   2173 	.globl	C$SpriteHorse.c$284$6_6$263
                                   2174 ;SpriteHorse.c:284: Sprite* s_orma1 = SpriteManagerAdd(SpriteStep, orma1_posx, orma_posy);
      0008F7 D5               [16] 2175 	push	de
      0008F8 F8 07            [12] 2176 	ldhl	sp,	#7
      0008FA 2A               [ 8] 2177 	ld	a, (hl+)
      0008FB 5F               [ 4] 2178 	ld	e, a
      0008FC 56               [ 8] 2179 	ld	d, (hl)
      0008FD 3E 02            [ 8] 2180 	ld	a, #0x02
      0008FF CDr00r00         [24] 2181 	call	_SpriteManagerAdd
                           000902  2182 	C$SpriteHorse.c$285$6_6$263	= .
                                   2183 	.globl	C$SpriteHorse.c$285$6_6$263
                                   2184 ;SpriteHorse.c:285: struct ItemData* orma1_data = (struct ItemData*) s_orma1->custom_data;
                           000902  2185 	C$SpriteHorse.c$286$6_6$263	= .
                                   2186 	.globl	C$SpriteHorse.c$286$6_6$263
                                   2187 ;SpriteHorse.c:286: orma1_data->configured = 1;
      000902 21 1E 00         [12] 2188 	ld	hl,#0x1e
      000905 09               [ 8] 2189 	add	hl,bc
      000906 36 01            [12] 2190 	ld	(hl), #0x01
      000908 18 13            [12] 2191 	jr	00274$
      00090A                       2192 00264$:
                           00090A  2193 	C$SpriteHorse.c$288$5_3$264	= .
                                   2194 	.globl	C$SpriteHorse.c$288$5_3$264
                                   2195 ;SpriteHorse.c:288: }else{orme_spawned = 0;}
      00090A 21r18r00         [12] 2196 	ld	hl, #_orme_spawned
      00090D 36 00            [12] 2197 	ld	(hl), #0x00
                           00090F  2198 	C$SpriteHorse.c$289$4_3$248	= .
                                   2199 	.globl	C$SpriteHorse.c$289$4_3$248
                                   2200 ;SpriteHorse.c:289: break;
      00090F 18 0C            [12] 2201 	jr	00274$
                           000911  2202 	C$SpriteHorse.c$290$4_3$248	= .
                                   2203 	.globl	C$SpriteHorse.c$290$4_3$248
                                   2204 ;SpriteHorse.c:290: default:
      000911                       2205 00268$:
                           000911  2206 	C$SpriteHorse.c$291$4_3$248	= .
                                   2207 	.globl	C$SpriteHorse.c$291$4_3$248
                                   2208 ;SpriteHorse.c:291: if(onfire_countdown == 0){//se ho spento il fuoco con l'acqua rimettimi il countdown negativo
      000911 21r1Ar00         [12] 2209 	ld	hl, #_onfire_countdown + 1
      000914 3A               [ 8] 2210 	ld	a, (hl-)
      000915 B6               [ 8] 2211 	or	a, (hl)
      000916 20 05            [12] 2212 	jr	NZ, 00274$
                           000918  2213 	C$SpriteHorse.c$292$5_3$265	= .
                                   2214 	.globl	C$SpriteHorse.c$292$5_3$265
                                   2215 ;SpriteHorse.c:292: onfire_countdown = -1;
      000918 3E FF            [ 8] 2216 	ld	a, #0xff
      00091A 22               [ 8] 2217 	ld	(hl+), a
      00091B 36 FF            [12] 2218 	ld	(hl), #0xff
                           00091D  2219 	C$SpriteHorse.c$295$2_3$242	= .
                                   2220 	.globl	C$SpriteHorse.c$295$2_3$242
                                   2221 ;SpriteHorse.c:295: }
      00091D                       2222 00274$:
                           00091D  2223 	C$SpriteHorse.c$298$2_3$242	= .
                                   2224 	.globl	C$SpriteHorse.c$298$2_3$242
                                   2225 ;SpriteHorse.c:298: if(stamina_current < 60){
      00091D 21r0Cr00         [12] 2226 	ld	hl, #_stamina_current
      000920 2A               [ 8] 2227 	ld	a, (hl+)
      000921 D6 3C            [ 8] 2228 	sub	a, #0x3c
      000923 7E               [ 8] 2229 	ld	a, (hl)
      000924 DE 00            [ 8] 2230 	sbc	a, #0x00
      000926 56               [ 8] 2231 	ld	d, (hl)
      000927 3E 00            [ 8] 2232 	ld	a, #0x00
      000929 CB 7F            [ 8] 2233 	bit	7,a
      00092B 28 07            [12] 2234 	jr	Z, 01051$
      00092D CB 7A            [ 8] 2235 	bit	7, d
      00092F 20 08            [12] 2236 	jr	NZ, 01052$
      000931 BF               [ 4] 2237 	cp	a, a
      000932 18 05            [12] 2238 	jr	01052$
      000934                       2239 01051$:
      000934 CB 7A            [ 8] 2240 	bit	7, d
      000936 28 01            [12] 2241 	jr	Z, 01052$
      000938 37               [ 4] 2242 	scf
      000939                       2243 01052$:
      000939 30 12            [12] 2244 	jr	NC, 00276$
                           00093B  2245 	C$SpriteHorse.c$299$3_3$266	= .
                                   2246 	.globl	C$SpriteHorse.c$299$3_3$266
                                   2247 ;SpriteHorse.c:299: SetSpriteAnim(THIS, a_horse_h_idle,4u);
      00093B 3E 04            [ 8] 2248 	ld	a, #0x04
      00093D F5               [16] 2249 	push	af
      00093E 33               [ 8] 2250 	inc	sp
      00093F 01r56r00         [12] 2251 	ld	bc, #_a_horse_h_idle
      000942 21r00r00         [12] 2252 	ld	hl, #_THIS
      000945 2A               [ 8] 2253 	ld	a, (hl+)
      000946 5F               [ 4] 2254 	ld	e, a
      000947 56               [ 8] 2255 	ld	d, (hl)
      000948 CDr00r00         [24] 2256 	call	_SetSpriteAnim
      00094B 18 10            [12] 2257 	jr	00277$
      00094D                       2258 00276$:
                           00094D  2259 	C$SpriteHorse.c$301$3_3$267	= .
                                   2260 	.globl	C$SpriteHorse.c$301$3_3$267
                                   2261 ;SpriteHorse.c:301: SetSpriteAnim(THIS, a_horse_h,4u);
      00094D 3E 04            [ 8] 2262 	ld	a, #0x04
      00094F F5               [16] 2263 	push	af
      000950 33               [ 8] 2264 	inc	sp
      000951 01r3Dr00         [12] 2265 	ld	bc, #_a_horse_h
      000954 21r00r00         [12] 2266 	ld	hl, #_THIS
      000957 2A               [ 8] 2267 	ld	a, (hl+)
      000958 5F               [ 4] 2268 	ld	e, a
      000959 56               [ 8] 2269 	ld	d, (hl)
      00095A CDr00r00         [24] 2270 	call	_SetSpriteAnim
      00095D                       2271 00277$:
                           00095D  2272 	C$SpriteHorse.c$303$2_3$242	= .
                                   2273 	.globl	C$SpriteHorse.c$303$2_3$242
                                   2274 ;SpriteHorse.c:303: THIS->anim_speed = stamina_current >> 5;
      00095D 21r00r00         [12] 2275 	ld	hl, #_THIS
      000960 2A               [ 8] 2276 	ld	a, (hl+)
      000961 46               [ 8] 2277 	ld	b, (hl)
      000962 C6 08            [ 8] 2278 	add	a, #0x08
      000964 4F               [ 4] 2279 	ld	c, a
      000965 30 01            [12] 2280 	jr	NC, 01053$
      000967 04               [ 4] 2281 	inc	b
      000968                       2282 01053$:
      000968 21r0Cr00         [12] 2283 	ld	hl, #_stamina_current
      00096B 2A               [ 8] 2284 	ld	a, (hl+)
      00096C 5F               [ 4] 2285 	ld	e, a
      00096D 56               [ 8] 2286 	ld	d, (hl)
      00096E CB 2A            [ 8] 2287 	sra	d
      000970 CB 1B            [ 8] 2288 	rr	e
      000972 CB 2A            [ 8] 2289 	sra	d
      000974 CB 1B            [ 8] 2290 	rr	e
      000976 CB 2A            [ 8] 2291 	sra	d
      000978 CB 1B            [ 8] 2292 	rr	e
      00097A CB 2A            [ 8] 2293 	sra	d
      00097C CB 1B            [ 8] 2294 	rr	e
      00097E CB 2A            [ 8] 2295 	sra	d
      000980 CB 1B            [ 8] 2296 	rr	e
      000982 7B               [ 4] 2297 	ld	a, e
      000983 02               [ 8] 2298 	ld	(bc), a
      000984                       2299 00279$:
                           000984  2300 	C$SpriteHorse.c$124$2_3$193	= .
                                   2301 	.globl	C$SpriteHorse.c$124$2_3$193
                                   2302 ;SpriteHorse.c:124: s_flame->x = THIS->x +2;
      000984 21r00r00         [12] 2303 	ld	hl, #_THIS
      000987 2A               [ 8] 2304 	ld	a, (hl+)
      000988 46               [ 8] 2305 	ld	b, (hl)
                           000989  2306 	C$SpriteHorse.c$308$2_3$193	= .
                                   2307 	.globl	C$SpriteHorse.c$308$2_3$193
                                   2308 ;SpriteHorse.c:308: THIS->mirror = NO_MIRROR;
      000989 C6 10            [ 8] 2309 	add	a, #0x10
      00098B 4F               [ 4] 2310 	ld	c, a
      00098C 30 01            [12] 2311 	jr	NC, 01054$
      00098E 04               [ 4] 2312 	inc	b
      00098F                       2313 01054$:
                           00098F  2314 	C$SpriteHorse.c$307$1_2$224	= .
                                   2315 	.globl	C$SpriteHorse.c$307$1_2$224
                                   2316 ;SpriteHorse.c:307: if(vx > 0){
      00098F 21r03r00         [12] 2317 	ld	hl, #_vx
      000992 5E               [ 8] 2318 	ld	e, (hl)
      000993 AF               [ 4] 2319 	xor	a, a
      000994 57               [ 4] 2320 	ld	d, a
      000995 96               [ 8] 2321 	sub	a, (hl)
      000996 CB 7B            [ 8] 2322 	bit	7, e
      000998 28 07            [12] 2323 	jr	Z, 01055$
      00099A CB 7A            [ 8] 2324 	bit	7, d
      00099C 20 08            [12] 2325 	jr	NZ, 01056$
      00099E BF               [ 4] 2326 	cp	a, a
      00099F 18 05            [12] 2327 	jr	01056$
      0009A1                       2328 01055$:
      0009A1 CB 7A            [ 8] 2329 	bit	7, d
      0009A3 28 01            [12] 2330 	jr	Z, 01056$
      0009A5 37               [ 4] 2331 	scf
      0009A6                       2332 01056$:
      0009A6 30 04            [12] 2333 	jr	NC, 00283$
                           0009A8  2334 	C$SpriteHorse.c$308$2_2$268	= .
                                   2335 	.globl	C$SpriteHorse.c$308$2_2$268
                                   2336 ;SpriteHorse.c:308: THIS->mirror = NO_MIRROR;
      0009A8 AF               [ 4] 2337 	xor	a, a
      0009A9 02               [ 8] 2338 	ld	(bc), a
      0009AA 18 0A            [12] 2339 	jr	00284$
      0009AC                       2340 00283$:
                           0009AC  2341 	C$SpriteHorse.c$309$1_2$224	= .
                                   2342 	.globl	C$SpriteHorse.c$309$1_2$224
                                   2343 ;SpriteHorse.c:309: }else if (vx < 0){
      0009AC FAr03r00         [16] 2344 	ld	a, (#_vx)
      0009AF CB 7F            [ 8] 2345 	bit	7, a
      0009B1 28 03            [12] 2346 	jr	Z, 00284$
                           0009B3  2347 	C$SpriteHorse.c$310$2_2$269	= .
                                   2348 	.globl	C$SpriteHorse.c$310$2_2$269
                                   2349 ;SpriteHorse.c:310: THIS->mirror = V_MIRROR;
      0009B3 3E 02            [ 8] 2350 	ld	a, #0x02
      0009B5 02               [ 8] 2351 	ld	(bc), a
      0009B6                       2352 00284$:
                           0009B6  2353 	C$SpriteHorse.c$316$2_3$271	= .
                                   2354 	.globl	C$SpriteHorse.c$316$2_3$271
                                   2355 ;SpriteHorse.c:316: SPRITEMANAGER_ITERATE(scroll_o_tile, iospr) {
      0009B6 FAr01r00         [16] 2356 	ld	a, (#(_sprite_manager_updatables + 1) + 0)
      0009B9 6F               [ 4] 2357 	ld	l, a
                                   2358 ;	spillPairReg hl
                                   2359 ;	spillPairReg hl
      0009BA 26 00            [ 8] 2360 	ld	h, #0x00
                                   2361 ;	spillPairReg hl
                                   2362 ;	spillPairReg hl
      0009BC 29               [ 8] 2363 	add	hl, hl
      0009BD 11r00r00         [12] 2364 	ld	de, #_sprite_manager_sprites
      0009C0 19               [ 8] 2365 	add	hl, de
      0009C1 2A               [ 8] 2366 	ld	a, (hl+)
      0009C2 4F               [ 4] 2367 	ld	c, a
      0009C3 46               [ 8] 2368 	ld	b, (hl)
      0009C4 F8 08            [12] 2369 	ldhl	sp,	#8
      0009C6 36 00            [12] 2370 	ld	(hl), #0x00
      0009C8                       2371 00296$:
      0009C8 FAr00r00         [16] 2372 	ld	a, (#_sprite_manager_updatables + 0)
      0009CB F8 07            [12] 2373 	ldhl	sp,	#7
      0009CD 77               [ 8] 2374 	ld	(hl), a
      0009CE F8 08            [12] 2375 	ldhl	sp,	#8
      0009D0 3A               [ 8] 2376 	ld	a, (hl-)
      0009D1 96               [ 8] 2377 	sub	a, (hl)
      0009D2 CAr57r0A         [16] 2378 	jp	Z,00298$
                           0009D5  2379 	C$SpriteHorse.c$317$3_3$272	= .
                                   2380 	.globl	C$SpriteHorse.c$317$3_3$272
                                   2381 ;SpriteHorse.c:317: if(CheckCollision(THIS, iospr)) {
      0009D5 C5               [16] 2382 	push	bc
      0009D6 21r00r00         [12] 2383 	ld	hl, #_THIS
      0009D9 5E               [ 8] 2384 	ld	e, (hl)
      0009DA 23               [ 8] 2385 	inc	hl
      0009DB 56               [ 8] 2386 	ld	d, (hl)
      0009DC CDr00r00         [24] 2387 	call	_CheckCollision
      0009DF C1               [12] 2388 	pop	bc
      0009E0 B7               [ 4] 2389 	or	a, a
      0009E1 28 5B            [12] 2390 	jr	Z, 00297$
                           0009E3  2391 	C$SpriteHorse.c$318$4_3$273	= .
                                   2392 	.globl	C$SpriteHorse.c$318$4_3$273
                                   2393 ;SpriteHorse.c:318: switch(iospr->type){
      0009E3 21 13 00         [12] 2394 	ld	hl, #0x0013
      0009E6 09               [ 8] 2395 	add	hl, bc
      0009E7 7E               [ 8] 2396 	ld	a, (hl)
      0009E8 D6 05            [ 8] 2397 	sub	a, #0x05
      0009EA 20 52            [12] 2398 	jr	NZ, 00297$
                           0009EC  2399 	C$SpriteHorse.c$320$5_3$274	= .
                                   2400 	.globl	C$SpriteHorse.c$320$5_3$274
                                   2401 ;SpriteHorse.c:320: if(onfire_countdown == -1){//if not already, go onfire!
      0009EC 21r19r00         [12] 2402 	ld	hl, #_onfire_countdown
      0009EF 7E               [ 8] 2403 	ld	a, (hl)
      0009F0 3C               [ 4] 2404 	inc	a
      0009F1 20 4B            [12] 2405 	jr	NZ, 00297$
      0009F3 23               [ 8] 2406 	inc	hl
      0009F4 7E               [ 8] 2407 	ld	a, (hl)
      0009F5 3C               [ 4] 2408 	inc	a
      0009F6 20 46            [12] 2409 	jr	NZ, 00297$
                           0009F8  2410 	C$SpriteHorse.c$321$6_3$275	= .
                                   2411 	.globl	C$SpriteHorse.c$321$6_3$275
                                   2412 ;SpriteHorse.c:321: if(weapon_def == CAPE){
      0009F8 FAr00r00         [16] 2413 	ld	a, (#_weapon_def)
      0009FB D6 08            [ 8] 2414 	sub	a, #0x08
      0009FD 20 14            [12] 2415 	jr	NZ, 00287$
                           0009FF  2416 	C$SpriteHorse.c$322$7_3$276	= .
                                   2417 	.globl	C$SpriteHorse.c$322$7_3$276
                                   2418 ;SpriteHorse.c:322: use_weapon(1);
      0009FF C5               [16] 2419 	push	bc
      000A00 3E 01            [ 8] 2420 	ld	a, #0x01
      000A02 F5               [16] 2421 	push	af
      000A03 33               [ 8] 2422 	inc	sp
      000A04 1Er00            [ 8] 2423 	ld	e, #b_use_weapon
      000A06 21r00r00         [12] 2424 	ld	hl, #_use_weapon
      000A09 CDr00r00         [24] 2425 	call	___sdcc_bcall_ehl
      000A0C 33               [ 8] 2426 	inc	sp
                           000A0D  2427 	C$SpriteHorse.c$323$7_3$276	= .
                                   2428 	.globl	C$SpriteHorse.c$323$7_3$276
                                   2429 ;SpriteHorse.c:323: SpriteManagerRemoveSprite(iospr);
      000A0D D1               [12] 2430 	pop	de
      000A0E CDr00r00         [24] 2431 	call	_SpriteManagerRemoveSprite
      000A11 18 2B            [12] 2432 	jr	00297$
      000A13                       2433 00287$:
                           000A13  2434 	C$SpriteHorse.c$325$7_3$277	= .
                                   2435 	.globl	C$SpriteHorse.c$325$7_3$277
                                   2436 ;SpriteHorse.c:325: onfire_countdown = ONFIRE_COUNTDOWN_MAX;
      000A13 21r19r00         [12] 2437 	ld	hl, #_onfire_countdown
      000A16 3E 90            [ 8] 2438 	ld	a, #0x90
      000A18 22               [ 8] 2439 	ld	(hl+), a
      000A19 36 01            [12] 2440 	ld	(hl), #0x01
                           000A1B  2441 	C$SpriteHorse.c$326$7_3$277	= .
                                   2442 	.globl	C$SpriteHorse.c$326$7_3$277
                                   2443 ;SpriteHorse.c:326: stamina_current = euphoria_min >> 2;
      000A1B FAr08r00         [16] 2444 	ld	a, (#_euphoria_min)
      000A1E EAr0Cr00         [16] 2445 	ld	(#_stamina_current),a
      000A21 FAr09r00         [16] 2446 	ld	a, (#_euphoria_min + 1)
      000A24 21r0Dr00         [12] 2447 	ld	hl, #_stamina_current + 1
      000A27 77               [ 8] 2448 	ld	(hl), a
      000A28 CB 3E            [16] 2449 	srl	(hl)
      000A2A 2B               [ 8] 2450 	dec	hl
      000A2B CB 1E            [16] 2451 	rr	(hl)
      000A2D 23               [ 8] 2452 	inc	hl
      000A2E CB 3E            [16] 2453 	srl	(hl)
      000A30 2B               [ 8] 2454 	dec	hl
      000A31 CB 1E            [16] 2455 	rr	(hl)
                           000A33  2456 	C$SpriteHorse.c$327$7_3$277	= .
                                   2457 	.globl	C$SpriteHorse.c$327$7_3$277
                                   2458 ;SpriteHorse.c:327: whip_power_over_stamina = 1;
      000A33 21r05r00         [12] 2459 	ld	hl, #_whip_power_over_stamina
      000A36 36 01            [12] 2460 	ld	(hl), #0x01
                           000A38  2461 	C$SpriteHorse.c$328$7_3$277	= .
                                   2462 	.globl	C$SpriteHorse.c$328$7_3$277
                                   2463 ;SpriteHorse.c:328: s_flame = iospr;
      000A38 21r1Br00         [12] 2464 	ld	hl, #_s_flame
      000A3B 79               [ 4] 2465 	ld	a, c
      000A3C 22               [ 8] 2466 	ld	(hl+), a
      000A3D 70               [ 8] 2467 	ld	(hl), b
                           000A3E  2468 	C$SpriteHorse.c$332$3_3$272	= .
                                   2469 	.globl	C$SpriteHorse.c$332$3_3$272
                                   2470 ;SpriteHorse.c:332: }
      000A3E                       2471 00297$:
                           000A3E  2472 	C$SpriteHorse.c$316$2_3$271	= .
                                   2473 	.globl	C$SpriteHorse.c$316$2_3$271
                                   2474 ;SpriteHorse.c:316: SPRITEMANAGER_ITERATE(scroll_o_tile, iospr) {
      000A3E F8 08            [12] 2475 	ldhl	sp,	#8
      000A40 34               [12] 2476 	inc	(hl)
      000A41 4E               [ 8] 2477 	ld	c, (hl)
      000A42 06 00            [ 8] 2478 	ld	b, #0x00
      000A44 03               [ 8] 2479 	inc	bc
      000A45 21r00r00         [12] 2480 	ld	hl, #_sprite_manager_updatables
      000A48 09               [ 8] 2481 	add	hl, bc
      000A49 6E               [ 8] 2482 	ld	l, (hl)
                                   2483 ;	spillPairReg hl
      000A4A 26 00            [ 8] 2484 	ld	h, #0x00
                                   2485 ;	spillPairReg hl
                                   2486 ;	spillPairReg hl
      000A4C 29               [ 8] 2487 	add	hl, hl
      000A4D 11r00r00         [12] 2488 	ld	de, #_sprite_manager_sprites
      000A50 19               [ 8] 2489 	add	hl, de
      000A51 2A               [ 8] 2490 	ld	a, (hl+)
      000A52 4F               [ 4] 2491 	ld	c, a
      000A53 46               [ 8] 2492 	ld	b, (hl)
      000A54 C3rC8r09         [16] 2493 	jp	00296$
      000A57                       2494 00298$:
                           000A57  2495 	C$SpriteHorse.c$335$2_3$193	= .
                                   2496 	.globl	C$SpriteHorse.c$335$2_3$193
                                   2497 ;SpriteHorse.c:335: }
      000A57 E8 09            [16] 2498 	add	sp, #9
                           000A59  2499 	C$SpriteHorse.c$335$2_3$193	= .
                                   2500 	.globl	C$SpriteHorse.c$335$2_3$193
                           000A59  2501 	XG$Update_SpriteHorse$0$0	= .
                                   2502 	.globl	XG$Update_SpriteHorse$0$0
      000A59 C9               [16] 2503 	ret
                           000A5A  2504 	G$Destroy_SpriteHorse$0$0	= .
                                   2505 	.globl	G$Destroy_SpriteHorse$0$0
                           000A5A  2506 	C$SpriteHorse.c$337$2_3$279	= .
                                   2507 	.globl	C$SpriteHorse.c$337$2_3$279
                                   2508 ;SpriteHorse.c:337: void DESTROY() {
                                   2509 ;	---------------------------------
                                   2510 ; Function Destroy_SpriteHorse
                                   2511 ; ---------------------------------
      000A5A                       2512 _Destroy_SpriteHorse::
                           000A5A  2513 	C$SpriteHorse.c$338$2_3$279	= .
                                   2514 	.globl	C$SpriteHorse.c$338$2_3$279
                                   2515 ;SpriteHorse.c:338: }
                           000A5A  2516 	C$SpriteHorse.c$338$2_3$279	= .
                                   2517 	.globl	C$SpriteHorse.c$338$2_3$279
                           000A5A  2518 	XG$Destroy_SpriteHorse$0$0	= .
                                   2519 	.globl	XG$Destroy_SpriteHorse$0$0
      000A5A C9               [16] 2520 	ret
                                   2521 	.area _CODE_255
                                   2522 	.area _INITIALIZER
                           000000  2523 FSpriteHorse$__xinit_velocity_counter$0_0$0 == .
      000000                       2524 __xinit__velocity_counter:
      000000 02                    2525 	.db #0x02	;  2
                           000001  2526 FSpriteHorse$__xinit_velocity$0_0$0 == .
      000001                       2527 __xinit__velocity:
      000001 01                    2528 	.db #0x01	;  1
                           000002  2529 FSpriteHorse$__xinit_vy$0_0$0 == .
      000002                       2530 __xinit__vy:
      000002 00                    2531 	.db #0x00	;  0
                           000003  2532 FSpriteHorse$__xinit_vx$0_0$0 == .
      000003                       2533 __xinit__vx:
      000003 00                    2534 	.db #0x00	;  0
                           000004  2535 FSpriteHorse$__xinit_frm_skip$0_0$0 == .
      000004                       2536 __xinit__frm_skip:
      000004 00                    2537 	.db #0x00	;  0
                           000005  2538 FSpriteHorse$__xinit_whip_power_over_stamina$0_0$0 == .
      000005                       2539 __xinit__whip_power_over_stamina:
      000005 03                    2540 	.db #0x03	;  3
                           000006  2541 FSpriteHorse$__xinit_whip_counter$0_0$0 == .
      000006                       2542 __xinit__whip_counter:
      000006 00                    2543 	.db #0x00	;  0
                           000007  2544 FSpriteHorse$__xinit_whip_counter_max$0_0$0 == .
      000007                       2545 __xinit__whip_counter_max:
      000007 24                    2546 	.db #0x24	;  36
                           000008  2547 FSpriteHorse$__xinit_euphoria_min$0_0$0 == .
      000008                       2548 __xinit__euphoria_min:
      000008 90 01                 2549 	.dw #0x0190
                           00000A  2550 FSpriteHorse$__xinit_euphoria_max$0_0$0 == .
      00000A                       2551 __xinit__euphoria_max:
      00000A 94 02                 2552 	.dw #0x0294
                           00000C  2553 FSpriteHorse$__xinit_stamina_current$0_0$0 == .
      00000C                       2554 __xinit__stamina_current:
      00000C 00 00                 2555 	.dw #0x0000
                           00000E  2556 FSpriteHorse$__xinit_stamina_verso$0_0$0 == .
      00000E                       2557 __xinit__stamina_verso:
      00000E 00                    2558 	.db #0x00	;  0
                           00000F  2559 FSpriteHorse$__xinit_no_whip_counter$0_0$0 == .
      00000F                       2560 __xinit__no_whip_counter:
      00000F 00                    2561 	.db #0x00	;  0
                           000010  2562 FSpriteHorse$__xinit_no_whip_over_stamina$0_0$0 == .
      000010                       2563 __xinit__no_whip_over_stamina:
      000010 F8                    2564 	.db #0xf8	; -8
                           000011  2565 FSpriteHorse$__xinit_no_whip_counter_max$0_0$0 == .
      000011                       2566 __xinit__no_whip_counter_max:
      000011 0A                    2567 	.db #0x0a	;  10
                           000012  2568 FSpriteHorse$__xinit_turn$0_0$0 == .
      000012                       2569 __xinit__turn:
      000012 00                    2570 	.db #0x00	; 0
                           000013  2571 FSpriteHorse$__xinit_sin$0_0$0 == .
      000013                       2572 __xinit__sin:
      000013 00                    2573 	.db #0x00	;  0
                           000014  2574 FSpriteHorse$__xinit_cos$0_0$0 == .
      000014                       2575 __xinit__cos:
      000014 00                    2576 	.db #0x00	;  0
                           000015  2577 FSpriteHorse$__xinit_turn_samepressure_counter$0_0$0 == .
      000015                       2578 __xinit__turn_samepressure_counter:
      000015 00                    2579 	.db #0x00	;  0
                           000016  2580 FSpriteHorse$__xinit_past_coll_tile$0_0$0 == .
      000016                       2581 __xinit__past_coll_tile:
      000016 00                    2582 	.db #0x00	; 0
                           000017  2583 FSpriteHorse$__xinit_turn_verse$0_0$0 == .
      000017                       2584 __xinit__turn_verse:
      000017 00                    2585 	.db #0x00	; 0
                           000018  2586 FSpriteHorse$__xinit_orme_spawned$0_0$0 == .
      000018                       2587 __xinit__orme_spawned:
      000018 00                    2588 	.db #0x00	; 0
                           000019  2589 FSpriteHorse$__xinit_onfire_countdown$0_0$0 == .
      000019                       2590 __xinit__onfire_countdown:
      000019 FF FF                 2591 	.dw #0xffff
                           00001B  2592 FSpriteHorse$__xinit_s_flame$0_0$0 == .
      00001B                       2593 __xinit__s_flame:
      00001B 00 00                 2594 	.dw #0x0000
                                   2595 	.area _CABS (ABS)
